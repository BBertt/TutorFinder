import{j as e,u as p,r as n,b as w,L as r}from"./app-C4Y_S2gZ.js";import{G as S,T as C}from"./GuestNavbar-CAQsJ3KH.js";import{S as M}from"./SuccessModal-BQvV3_2x.js";const F=a=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",...a,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})});function W({isOpen:a,onClose:d,title:o="Error",message:h}){return a?e.jsx("div",{onClick:d,className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{onClick:s=>s.stopPropagation(),className:"p-8 border w-full max-w-md shadow-lg rounded-lg bg-white dark:bg-darkSecondary dark:border-dark",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 dark:bg-red-900",children:e.jsx(F,{className:"h-8 w-8 text-red-600 dark:text-red-300"})}),e.jsx("h3",{className:"mt-5 text-2xl font-bold text-black dark:text-white",children:o}),e.jsx("div",{className:"mt-2 px-7 py-3",children:e.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400",children:h})}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("button",{onClick:d,className:"px-8 py-3 bg-red-600 text-white text-base font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Close"})})]})})}):null}const L=({logoSrc:a})=>{const{categories:d,auth:o,filters:h}=p().props,{url:s}=p(),[g,l]=n.useState(!1),[x,u]=n.useState(!1),m=s.startsWith("/forums"),t=o.user?.role_id===2,c=o.user?.role_id===1,{data:f,setData:j,get:y}=w({search:h?.search||""}),v=i=>{i.preventDefault();const N=m?route("forums.index"):route("courses.index");y(N,{preserveState:!0,preserveScroll:!0})},k=m?"Search Forums...":"Search Courses...",b=!m&&!t&&!c;return e.jsx("nav",{className:"bg-accent shadow-sm sticky top-0 z-50 dark:bg-darkSecondary dark:border-b dark:border-dark",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-20",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(r,{href:"/",children:e.jsx("img",{className:"h-12 w-auto",src:a,alt:"TutorFinder Logo"})})}),e.jsx("div",{className:"hidden md:block flex-1 max-w-xl mx-4",children:!t&&!c&&e.jsxs("form",{className:"relative flex items-center",onSubmit:v,children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("img",{className:"w-4 h-4 dark:invert",src:"/assets/icons/magnifying-glass.svg",alt:"Search"})}),e.jsx("input",{id:"search",name:"search",value:f.search,onChange:i=>j("search",i.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-200 rounded-full leading-5 bg-white placeholder-gray-400 sm:text-sm dark:bg-darkSecondary dark:border-g dark:text-white dark:placeholder-gray-400",placeholder:k,type:"Search"}),b&&e.jsxs("div",{className:"relative ml-2",children:[e.jsx("img",{className:`w-7 h-7 cursor-pointer ${!x&&"dark:invert"}`,src:x?"/assets/icons/arrow-down-primary.svg":"/assets/icons/arrow-down-secondary.svg",alt:"Filter",onClick:()=>u(!x)}),x&&e.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border dark:bg-darkSecondary dark:border-dark z-20",children:d.map(i=>e.jsx(r,{href:`/courses?category=${i.id}`,className:"block w-full text-left px-4 py-2 text-sm text-secondary hover:bg-gray-200 hover:text-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white",onClick:()=>u(!1),children:i.name},i.id))})]})]})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-10",children:[!t&&!c&&e.jsxs(r,{href:"/cart",className:"flex gap-2 items-center",children:[e.jsx("img",{className:`w-7 h-7 ${!s.startsWith("/cart")&&"dark:invert"}`,src:s.startsWith("/cart")?"/assets/icons/cart-primary.svg":"/assets/icons/cart-secondary.svg",alt:"Cart"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Cart"})]}),!c&&e.jsxs(r,{href:t?route("tutor.courses.index"):route("courses.index"),className:"flex gap-2 items-center",children:[e.jsx("img",{className:`w-7 h-7 ${!s.startsWith("/courses")&&!s.startsWith("/tutor/courses")&&"dark:invert"}`,src:s.startsWith("/courses")||s.startsWith("/tutor/courses")?"/assets/icons/course-primary.svg":"/assets/icons/course-secondary.svg",alt:"Courses"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:t?"Your Courses":"Courses"})]}),e.jsxs(r,{href:"/forums",className:"flex gap-2 items-center",children:[e.jsx("img",{className:`w-7 h-7 ${!s.startsWith("/forums")&&"dark:invert"}`,src:s.startsWith("/forums")?"/assets/icons/forum-primary.svg":"/assets/icons/forum-secondary.svg",alt:"Forums"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Forum"})]}),e.jsxs(r,{href:"/chat",className:"flex gap-2 items-center",children:[e.jsx("img",{className:`w-7 h-7 ${!s.startsWith("/chat")&&"dark:invert"}`,src:s.startsWith("/chat")?"/assets/icons/messages-primary.svg":"/assets/icons/messages-secondary.svg",alt:"Messages"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Chat"})]}),e.jsx(C,{}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{onClick:()=>l(!g),className:"cursor-pointer",children:e.jsx("img",{className:"w-7 h-7 rounded-full object-cover",src:o.user.profile_image_url||"/assets/icons/profile.svg",alt:"Profile"})}),g&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-md border border-gray-200 z-1 dark:bg-darkSecondary dark:border-dark",children:[e.jsx(r,{href:"/profile",className:"block px-4 py-2 text-secondary hover:bg-gray-200 hover:text-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white",onClick:()=>l(!1),children:"Profile"}),!t&&!c&&e.jsx(r,{href:"/purchased-courses",className:"block px-4 py-2 text-secondary hover:bg-gray-200 hover:text-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white",onClick:()=>l(!1),children:"Purchased Courses"}),!t&&!c&&e.jsx(r,{href:"/transactions",className:"block px-4 py-2 text-secondary hover:bg-gray-200 hover:text-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white",onClick:()=>l(!1),children:"Transaction History"}),e.jsx(r,{href:"/logout",method:"post",as:"button",className:"w-full text-left px-4 py-2 text-secondary hover:bg-gray-200 hover:text-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white",children:"Logout"})]})]})]})]})})})},E=({logoSrc:a})=>e.jsx("footer",{className:"bg-gradient-to-r from-[#99D37C] to-[#4F6D40] dark:from-gray-800 dark:to-gray-900",children:e.jsxs("div",{className:"container mx-auto py-12 px-4 justify-between sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[e.jsx("div",{className:"space-y-4",children:e.jsx("img",{className:"h-24 w-auto",src:a,alt:"TutorFinder Logo"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold tracking-wider uppercase text-white",children:"Navigation"}),e.jsxs("ul",{className:"mt-4 space-y-2",children:[e.jsx("li",{children:e.jsx(r,{href:"/",className:"text-base text-white hover:text-gray-300 font-bold",children:"Home"})}),e.jsx("li",{children:e.jsx(r,{href:"/courses",className:"text-base text-white hover:text-gray-300 font-bold",children:"Courses"})}),e.jsx("li",{children:e.jsx(r,{href:"/forums",className:"text-base text-white hover:text-gray-300 font-bold",children:"Forums"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold tracking-wider uppercase text-white",children:"Get in touch"}),e.jsx("ul",{className:"mt-4 space-y-2 text-white",children:e.jsx("li",{children:"tutorfinder@example.com"})})]})]}),e.jsx("div",{className:"mt-12 border-t border-gray-600 pt-8",children:e.jsx("p",{className:"text-base text-white font-bold text-left",children:"Â© 2025 TutorFinder, Inc."})})]})});function $({children:a,showFooter:d=!0}){const o="/assets/logo.png",{auth:h,flash:s}=p().props,[g,l]=n.useState(!1),[x,u]=n.useState(""),[m,t]=n.useState(!1),[c,f]=n.useState("");return n.useEffect(()=>{s.success&&(u(s.success),l(!0)),s.error&&(f(s.error),t(!0))},[s]),e.jsxs("div",{className:"flex flex-col min-h-screen bg-white dark:bg-darkPrimary dark:text-white",children:[h.user?e.jsx(L,{logoSrc:o}):e.jsx(S,{}),e.jsx("main",{className:"flex-grow",children:a}),d&&e.jsx(E,{logoSrc:o}),e.jsx(M,{isOpen:g,onClose:()=>l(!1),title:"Success!",message:x}),e.jsx(W,{isOpen:m,onClose:()=>t(!1),title:"Error!",message:c})]})}export{$ as L};
