import{r as i,j as e,L as l,a as d}from"./app-DrN6QAEb.js";import{V as c}from"./VoteButtons-C3JgrX54.js";import{C as m}from"./ConfirmationModal-BaAgRY2M.js";const f=s=>{const a=new Date(s),t=Math.floor((new Date-a)/1e3);let r=t/31536e3;return r>1?Math.floor(r)+" years ago":(r=t/2592e3,r>1?Math.floor(r)+" months ago":(r=t/86400,r>1?Math.floor(r)+" days ago":(r=t/3600,r>1?Math.floor(r)+" hours ago":(r=t/60,r>1?Math.floor(r)+" minutes ago":Math.floor(t)+" seconds ago"))))};function g({post:s,showDeleteButton:a=!1}){const t=`${s.user.first_name} ${s.user.last_name}`,[r,o]=i.useState(!1),n=()=>{d.delete(route("forums.destroy",s.id),{preserveScroll:!0,onFinish:()=>o(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"block bg-white p-6 rounded-lg border border-gray-200 transition-shadow dark:bg-darkSecondary dark:border-dark hover:shadow-lg dark:hover:bg-gray-700",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("img",{className:"w-12 h-12 rounded-full",src:s.user.profile_image_url,alt:t}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"font-bold text-lg dark:text-white",children:e.jsx(l,{href:route("forums.show",s.id),className:"hover:underline",children:s.title})}),a&&e.jsx("button",{onClick:()=>o(!0),className:"text-sm font-semibold text-red-500 hover:text-red-700",children:"Delete"})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:["By ",t]}),e.jsx("p",{className:"mt-2 text-gray-700 line-clamp-2 dark:text-gray-400",children:s.description}),e.jsxs("div",{className:"flex items-center justify-between mt-4",children:[e.jsx(c,{item:s,type:"forum"}),e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-400",children:[e.jsxs(l,{href:route("forums.show",s.id),className:"hover:underline",children:[s.replies.length," Replies"]}),e.jsx("span",{children:f(s.created_at)})]})]})]})]})}),e.jsx(m,{isOpen:r,onClose:()=>o(!1),onConfirm:n,title:"Delete Forum Post",message:"Are you sure you want to delete this forum post? All of its replies will also be deleted.",confirmText:"Yes, Delete",cancelText:"Cancel",confirmColor:"bg-red-600"})]})}export{g as F};
