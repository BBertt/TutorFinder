import{j as e,u as p,r as i,b as N,L as r}from"./app-B1oFeSRQ.js";import{G as w,T as S}from"./GuestNavbar-pXQgbLjC.js";import{S as C}from"./SuccessModal-DB7pB1ql.js";const M=t=>e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:3,stroke:"currentColor",...t,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})});function F({isOpen:t,onClose:n,title:o="Error",message:x}){return t?e.jsx("div",{onClick:n,className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx("div",{onClick:s=>s.stopPropagation(),className:"p-8 border w-full max-w-md shadow-lg rounded-lg bg-white dark:bg-darkSecondary dark:border-dark",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-red-100 dark:bg-red-900",children:e.jsx(M,{className:"h-8 w-8 text-red-600 dark:text-red-300"})}),e.jsx("h3",{className:"mt-5 text-2xl font-bold text-black dark:text-white",children:o}),e.jsx("div",{className:"mt-2 px-7 py-3",children:e.jsx("p",{className:"text-lg text-gray-500 dark:text-gray-400",children:x})}),e.jsx("div",{className:"flex justify-center mt-4",children:e.jsx("button",{onClick:n,className:"px-8 py-3 bg-red-600 text-white text-base font-medium rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",children:"Close"})})]})})}):null}const W=({logoSrc:t})=>{const{categories:n,auth:o,filters:x}=p().props,{url:s}=p(),[m,c]=i.useState(!1),[d,g]=i.useState(!1),h=s.startsWith("/forums"),a=o.user?.role_id===2,{data:u,setData:f,get:j}=N({search:x?.search||""}),y=l=>{l.preventDefault();const b=h?route("forums.index"):route("courses.index");j(b,{preserveState:!0,preserveScroll:!0})},v=h?"Search Forums...":"Search Courses...",k=!h&&!a;return e.jsx("nav",{className:"bg-accent shadow-sm sticky top-0 z-50 dark:bg-darkSecondary dark:border-b dark:border-dark",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-20",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(r,{href:"/",children:e.jsx("img",{className:"h-12 w-auto",src:t,alt:"TutorFinder Logo"})})}),e.jsx("div",{className:"hidden md:block flex-1 max-w-xl mx-4",children:!a&&e.jsxs("form",{className:"relative flex items-center",onSubmit:y,children:[e.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:e.jsx("img",{className:"w-4 h-4 dark:invert",src:"/assets/icons/magnifying-glass.svg",alt:"Search"})}),e.jsx("input",{id:"search",name:"search",value:u.search,onChange:l=>f("search",l.target.value),className:"block w-full pl-10 pr-3 py-2 border border-gray-200 rounded-full leading-5 bg-white placeholder-gray-400 sm:text-sm dark:bg-darkSecondary dark:border-g dark:text-white dark:placeholder-gray-400",placeholder:v,type:"Search"}),k&&e.jsxs("div",{className:"relative ml-2",children:[e.jsx("img",{className:`w-7 h-7 cursor-pointer ${!d&&"dark:invert"}`,src:d?"/assets/icons/arrow-down-primary.svg":"/assets/icons/arrow-down-secondary.svg",alt:"Filter",onClick:()=>g(!d)}),d&&e.jsx("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-lg shadow-xl border dark:bg-darkSecondary dark:border-dark z-20",children:n.map(l=>e.jsx(r,{href:`/courses?category=${l.id}`,className:"block w-full text-left px-4 py-2 text-sm text-secondary hover:bg-gray-200 hover:text-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white",onClick:()=>g(!1),children:l.name},l.id))})]})]})}),e.jsxs("div",{className:"hidden md:flex items-center space-x-10",children:[!a&&e.jsxs(r,{href:"/cart",className:"flex gap-2 items-center",children:[e.jsx("img",{className:`w-7 h-7 ${!s.startsWith("/cart")&&"dark:invert"}`,src:s.startsWith("/cart")?"/assets/icons/cart-primary.svg":"/assets/icons/cart-secondary.svg",alt:"Cart"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Cart"})]}),e.jsxs(r,{href:a?route("tutor.courses.index"):route("courses.index"),className:"flex gap-2 items-center",children:[e.jsx("img",{className:`w-7 h-7 ${!s.startsWith("/courses")&&!s.startsWith("/tutor/courses")&&"dark:invert"}`,src:s.startsWith("/courses")||s.startsWith("/tutor/courses")?"/assets/icons/course-primary.svg":"/assets/icons/course-secondary.svg",alt:"Courses"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:a?"Your Courses":"Courses"})]}),e.jsxs(r,{href:"/forums",className:"flex gap-2 items-center",children:[e.jsx("img",{className:`w-7 h-7 ${!s.startsWith("/forums")&&"dark:invert"}`,src:s.startsWith("/forums")?"/assets/icons/forum-primary.svg":"/assets/icons/forum-secondary.svg",alt:"Forums"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Forum"})]}),e.jsxs(r,{href:"/chat",className:"flex gap-2 items-center",children:[e.jsx("img",{className:`w-7 h-7 ${!s.startsWith("/chat")&&"dark:invert"}`,src:s.startsWith("/chat")?"/assets/icons/messages-primary.svg":"/assets/icons/messages-secondary.svg",alt:"Messages"}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Chat"})]}),e.jsx(S,{}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{onClick:()=>c(!m),className:"cursor-pointer",children:e.jsx("img",{className:"w-7 h-7 rounded-full object-cover",src:o.user.profile_image_url||"/assets/icons/profile.svg",alt:"Profile"})}),m&&e.jsxs("div",{className:"absolute right-0 mt-2 w-64 bg-white rounded-md border border-gray-200 z-1 dark:bg-darkSecondary dark:border-dark",children:[e.jsx(r,{href:"/profile",className:"block px-4 py-2 text-secondary hover:bg-gray-200 hover:text-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white",onClick:()=>c(!1),children:"Profile"}),!a&&e.jsx(r,{href:"/purchased-courses",className:"block px-4 py-2 text-secondary hover:bg-gray-200 hover:text-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white",onClick:()=>c(!1),children:"Purchased Courses"}),e.jsx(r,{href:"/transactions",className:"block px-4 py-2 text-secondary hover:bg-gray-200 hover:text-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white",onClick:()=>c(!1),children:"Transaction History"}),e.jsx(r,{href:"/logout",method:"post",as:"button",className:"w-full text-left px-4 py-2 text-secondary hover:bg-gray-200 hover:text-gray-800 dark:text-gray-300 dark:hover:bg-gray-700 dark:hover:text-white",children:"Logout"})]})]})]})]})})})},L=({logoSrc:t})=>e.jsx("footer",{className:"bg-gradient-to-r from-[#99D37C] to-[#4F6D40] dark:from-gray-800 dark:to-gray-900",children:e.jsxs("div",{className:"container mx-auto py-12 px-4 justify-between sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between",children:[e.jsx("div",{className:"space-y-4",children:e.jsx("img",{className:"h-24 w-auto",src:t,alt:"TutorFinder Logo"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold tracking-wider uppercase text-white",children:"Navigation"}),e.jsxs("ul",{className:"mt-4 space-y-2",children:[e.jsx("li",{children:e.jsx(r,{href:"/",className:"text-base text-white hover:text-gray-300 font-bold",children:"Home"})}),e.jsx("li",{children:e.jsx(r,{href:"/courses",className:"text-base text-white hover:text-gray-300 font-bold",children:"Courses"})}),e.jsx("li",{children:e.jsx(r,{href:"/forums",className:"text-base text-white hover:text-gray-300 font-bold",children:"Forums"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-semibold tracking-wider uppercase text-white",children:"Get in touch"}),e.jsx("ul",{className:"mt-4 space-y-2 text-white",children:e.jsx("li",{children:"tutorfinder@example.com"})})]})]}),e.jsx("div",{className:"mt-12 border-t border-gray-600 pt-8",children:e.jsx("p",{className:"text-base text-white font-bold text-left",children:"Â© 2025 TutorFinder, Inc."})})]})});function P({children:t,showFooter:n=!0}){const o="/assets/logo.png",{auth:x,flash:s}=p().props,[m,c]=i.useState(!1),[d,g]=i.useState(""),[h,a]=i.useState(!1),[u,f]=i.useState("");return i.useEffect(()=>{s.success&&(g(s.success),c(!0)),s.error&&(f(s.error),a(!0))},[s]),e.jsxs("div",{className:"flex flex-col min-h-screen bg-white dark:bg-darkPrimary dark:text-white",children:[x.user?e.jsx(W,{logoSrc:o}):e.jsx(w,{}),e.jsx("main",{className:"flex-grow",children:t}),n&&e.jsx(L,{logoSrc:o}),e.jsx(C,{isOpen:m,onClose:()=>c(!1),title:"Success!",message:d}),e.jsx(F,{isOpen:h,onClose:()=>a(!1),title:"Error!",message:u})]})}export{P as L};
