import{R as p,j as e,H as g,L as o,a as j}from"./app-vktjkHzL.js";import{L as b}from"./Layout-DdWA2cnw.js";import{B as u}from"./Breadcrumb-BMNIU2fq.js";import{R as y}from"./ReviewCard-BUfVw4-C.js";import{P as N}from"./Pagination-C5BUZoRh.js";import{S as f}from"./SuccessModal-CEwhlc4c.js";import"./GuestNavbar-DMqcayHC.js";import"./StarIcon-BYs3YNp6.js";function k({course:a,isEnrolled:r,isInCart:c,hasPendingTransaction:l,isTutor:d,reviews:t}){const[m,i]=p.useState(!1),x=s=>{if(s.preventDefault(),l){i(!0);return}j.post(route("cart.store"),{course_id:a.id})};return e.jsxs(e.Fragment,{children:[e.jsx(g,{title:a.title}),e.jsxs("div",{className:"bg-primary text-white dark:bg-darkSecondary dark:border-dark",children:[!d&&e.jsx(u,{category:a.category,course:a}),e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-16 grid md:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-semibold",children:a.category.name}),e.jsx("h1",{className:"text-4xl lg:text-5xl font-bold mt-2",children:a.title}),e.jsx("p",{className:"mt-4 text-lg opacity-80",children:a.description}),!d&&e.jsxs(e.Fragment,{children:[!r&&e.jsxs("p",{className:"text-3xl font-bold mt-6",children:["Rp"," ",Number(a.price).toLocaleString("id-ID")]}),r?e.jsx(o,{href:route("courses.learn",a.id),className:"mt-6 bg-white text-primary px-8 py-3 rounded-lg font-semibold hover:bg-gray-200 transition-colors inline-block text-center",children:"Learn"}):e.jsxs(e.Fragment,{children:[c?e.jsx(o,{href:route("cart.index"),className:"mt-6 bg-gray-200 text-gray-800 px-8 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors inline-block text-center",children:"Go to Cart"}):e.jsx("button",{onClick:x,className:"mt-6 bg-white text-primary px-8 py-3 rounded-lg font-semibold hover:bg-gray-200 transition-colors",children:l?"Pending Payment":"Add to Cart"}),e.jsx(f,{isOpen:m,onClose:()=>i(!1),title:"Pending Transaction",message:"You already have a pending transaction for this course. Please complete or cancel it before adding again."})]})]})]}),e.jsx("div",{children:e.jsx("img",{src:a.thumbnail_image_url,alt:a.title,className:"w-full rounded-lg shadow-2xl",onError:s=>{s.target.onerror=null,s.target.src="https://placehold.co/600x400/gray/white?text=Image+Missing"}})})]})]}),e.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"grid lg:grid-cols-3 gap-12",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md dark:bg-darkSecondary dark:border-dark",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Course Content"}),e.jsx("div",{className:"space-y-6",children:a.sections.map((s,h)=>e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-xl dark:text-white",children:["Section ",h+1,": ",s.title]}),e.jsx("ul",{className:"list-disc list-inside mt-3 space-y-2 dark:text-white",children:s.lessons.map(n=>e.jsx("li",{children:n.title},n.id))})]},s.id))})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"top-24 space-y-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md dark:bg-darkSecondary dark:border-dark",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"What you'll learn"}),e.jsx("div",{className:"prose prose-sm max-w-none whitespace-pre-line",children:a.student_outcome})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md dark:bg-darkSecondary dark:border-dark",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Requirements"}),e.jsx("div",{className:"prose prose-sm max-w-none whitespace-pre-line dark:text-white",children:a.requirements})]})]})})]}),e.jsxs("div",{className:"mt-12",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Course Reviews"}),t?.data?.length>0?e.jsx("div",{className:"space-y-6",children:t.data.map(s=>e.jsx(y,{review:s},s.id))}):e.jsx("p",{className:"text-gray-500",children:"This course has no reviews yet."}),t?.data?.length>0&&e.jsx(N,{links:t.links})]})]})]})}k.layout=a=>e.jsx(b,{children:a});export{k as default};
