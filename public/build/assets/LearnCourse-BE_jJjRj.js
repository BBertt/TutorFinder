import{r as C,j as e,a as R,R as m,u as O,H as re,L as le}from"./app-DrN6QAEb.js";import{L as ae}from"./Layout-BHOuEQnQ.js";import{V as oe}from"./VideoPlayer-QoU-mdTT.js";import{C as X}from"./ConfirmationModal-BaAgRY2M.js";import"./GuestNavbar-D1bWPztK.js";import"./SuccessModal-C4iir3pQ.js";const de=({quiz:t})=>{const[c,v]=C.useState(0),[y,q]=C.useState({}),[o,h]=C.useState("question"),k=t.duration_seconds||900,[i,u]=C.useState(k);C.useEffect(()=>{(t.attempts.length>0?t.attempts[t.attempts.length-1]:null)?h("result"):(h("question"),u(k))},[t.id,t.attempts?.length]);const b=a=>{q({...y,[t.questions[c].id]:a})},I=()=>{c<t.questions.length-1&&v(c+1)},N=()=>{R.post(`/quizzes/${t.id}/submit`,{answers:y},{preserveScroll:!0,onStart:()=>h("submitting"),onSuccess:()=>h("result"),onError:()=>h("question")})};C.useEffect(()=>{if(o==="question"){const a=setInterval(()=>{u(d=>d<=1?(clearInterval(a),N(),0):d-1)},1e3);return()=>clearInterval(a)}},[o]);const M=a=>{const d=Math.floor(a/60).toString().padStart(2,"0"),f=(a%60).toString().padStart(2,"0");return`${d}:${f}`},[D,L]=C.useState(!1),T=()=>{L(!0)},P=()=>{L(!1),v(0),q({}),u(k),h("question")},A=()=>L(!1),S=()=>h("review");if(o==="submitting")return e.jsxs("div",{className:"p-8 bg-white dark:bg-gray-900 dark:text-gray-100 rounded-lg shadow-lg text-center",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Submitting Quiz..."}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Please wait while we process your answers."})]});if(o==="question")return e.jsxs("div",{className:"p-8 bg-white dark:bg-gray-900 dark:text-gray-100 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:t.title}),t.description&&e.jsx("div",{className:"mb-4 text-gray-700 dark:text-gray-300 whitespace-pre-wrap",children:t.description}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Question ",c+1," of"," ",t.questions.length]}),e.jsxs("p",{className:"mb-6 font-semibold text-red-500 dark:text-red-400",children:["Time Remaining: ",M(i)]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold mb-4",children:t.questions[c].question}),e.jsx("div",{className:"space-y-3",children:t.questions[c].options.map(a=>e.jsx("div",{onClick:()=>b(a.id),className:`p-4 border rounded-lg cursor-pointer hover:bg-accent dark:hover:bg-gray-800 dark:text-gray-100 ${y[t.questions[c].id]===a.id?"bg-accent dark:bg-gray-800 border-primary dark:border-primary":"border-gray-300 dark:border-gray-700"}`,children:a.option},a.id))})]}),e.jsx("div",{className:"mt-8 flex justify-end",children:c<t.questions.length-1?e.jsx("button",{onClick:I,disabled:!y[t.questions[c].id],className:"px-6 py-2 bg-primary text-white rounded-md disabled:opacity-50",children:"Next"}):e.jsx("button",{onClick:N,disabled:!y[t.questions[c].id],className:"px-6 py-2 bg-primary text-white rounded-md disabled:opacity-50",children:"Submit"})})]});if(D)return e.jsx(X,{isOpen:!0,onClose:A,onConfirm:P,title:"Retry Quiz",message:`This quiz has a time limit of ${M(k)}. The timer starts once you press Start. Retrying will reset your previous answers.`,confirmText:"Start",cancelText:"Cancel"});if(o==="result"){const a=t.attempts[t.attempts.length-1];if(!a)return null;const d=a.score/a.total_questions*100,f=d>=80,$=!f||!(d===100);return e.jsxs("div",{className:"p-8 bg-white dark:bg-gray-900 dark:text-gray-100 rounded-lg shadow-lg text-center",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Quiz Complete!"}),e.jsxs("p",{className:`text-xl mb-2 ${f?"text-primary":"text-red-800"}`,children:["You scored ",a.score," out of"," ",a.total_questions," (",d.toFixed(0),"%)"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:f?"Congratulations, you've passed!":"You have not met the passing score of 80%."}),e.jsx("div",{className:"flex justify-center gap-4",children:$?e.jsx("button",{onClick:T,className:"px-6 py-2 bg-primary text-white rounded-md",children:"Retry Quiz"}):e.jsx("button",{onClick:S,className:"px-6 py-2 bg-secondary text-white rounded-md",children:"Review Answers"})})]})}return o==="review"?e.jsxs("div",{className:"p-8 bg-white dark:bg-gray-900 dark:text-gray-100 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-3xl font-bold mb-6 text-center",children:"Review Answers"}),e.jsx("div",{className:"space-y-6",children:t.questions.map((a,d)=>e.jsxs("div",{className:"p-4 rounded-lg bg-gray-100 dark:bg-gray-800 dark:text-gray-100",children:[e.jsxs("h3",{className:"font-semibold text-lg",children:[d+1,". ",a.question]}),e.jsx("ul",{children:a.options.map(f=>e.jsxs("li",{className:`mt-2 p-2 rounded border ${f.is_correct?"bg-accent dark:bg-gray-800 font-bold text-primary border-primary dark:border-primary":"border-transparent dark:border-gray-700 dark:text-gray-200"}`,children:[f.option," ",f.is_correct?"(Correct Answer)":""]},f.id))})]},a.id))}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsx("button",{onClick:()=>h("result"),className:"px-6 py-2 bg-secondary text-white rounded-md",children:"Back to Results"})})]}):null},ce=({rating:t,onRatingChange:c})=>e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(v=>e.jsx("svg",{className:`w-8 h-8 cursor-pointer ${t>=v?"text-yellow-400":"text-gray-400"}`,fill:"currentColor",viewBox:"0 0 20 20",onClick:()=>c(v),children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.286 3.957a1 1 0 00.95.69h4.162c.969 0 1.371 1.24.588 1.81l-3.368 2.448a1 1 0 00-.364 1.118l1.287 3.957c.3.921-.755 1.688-1.54 1.118l-3.368-2.448a1 1 0 00-1.175 0l-3.368 2.448c-.784.57-1.838-.197-1.539-1.118l1.287-3.957a1 1 0 00-.364-1.118L2.25 9.384c-.783-.57-.38-1.81.588-1.81h4.162a1 1 0 00.95-.69L9.049 2.927z"})},v))}),K=({onClose:t,postUrl:c,revieweeName:v,revieweeType:y,onSuccess:q})=>{const[o,h]=m.useState(0),[k,i]=m.useState(""),[u,b]=m.useState(!1),I=N=>{N.preventDefault(),b(!0),o>0?R.post(c,{rating:o,comment:k},{onSuccess:()=>{b(!1),t(),q&&q()},onError:()=>{b(!1)}}):b(!1)};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t,children:e.jsxs("div",{className:"bg-white dark:bg-darkPrimary dark:text-white p-8 rounded-lg shadow-xl w-full max-w-2xl relative",onClick:N=>N.stopPropagation(),children:[e.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800 dark:hover:text-gray-300",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e.jsxs("h2",{className:"text-2xl font-bold mb-6 text-center",children:["Rate Your ",y]}),e.jsxs("form",{onSubmit:I,children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h3",{className:"text-xl font-semibold mb-2",children:["Rate the ",y,': "',v,'"']}),e.jsx(ce,{rating:o,onRatingChange:h}),e.jsx("textarea",{className:"mt-4 p-2 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400",rows:"3",placeholder:`Tell us about your experience with the ${y.toLowerCase()}...`,value:k,onChange:N=>i(N.target.value)})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx("button",{type:"button",onClick:t,className:"px-6 py-2 bg-gray-200 text-black dark:text-white font-medium rounded-md hover:bg-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Maybe Later"}),e.jsx("button",{type:"submit",disabled:u||o===0,className:"px-6 py-2 rounded-md text-white bg-primary hover:bg-primary-dark disabled:opacity-50",children:u?"Submitting...":"Submit Review"})]})]})]})})},B=({className:t})=>e.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"})}),ue=({className:t})=>e.jsx("svg",{className:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M12 1.5a5.25 5.25 0 00-5.25 5.25v3a3 3 0 00-3 3v6.75a3 3 0 003 3h10.5a3 3 0 003-3v-6.75a3 3 0 00-3-3v-3c0-2.9-2.35-5.25-5.25-5.25zm3.75 8.25v-3a3.75 3.75 0 10-7.5 0v3h7.5z",clipRule:"evenodd"})});function me({course:t,progress:c,last_watched_lesson_id:v,has_reviewed_by_user:y,course_completed:q,final_quiz_attempts:o,has_reviewed_tutor:h}){const{quiz_submitted:k}=O().props,[i,u]=m.useState(()=>{const s=t.sections.flatMap(r=>r.lessons).find(r=>r.id===v);if(s)return{type:"lesson",content:s};const n=t.sections[0]?.lessons[0];return n?{type:"lesson",content:n}:null}),[b,I]=m.useState(c),[N,M]=m.useState(!1),[D,L]=m.useState(!1),[T,P]=m.useState(!1),[A,S]=m.useState(!1),[a,d]=m.useState(null),[f,F]=m.useState(!1),$=C.useRef(null),ee=()=>{if(!$.current)return;const s=$.current.innerHTML,n=Array.from(document.querySelectorAll('link[rel="stylesheet"], style')).map(l=>l.outerHTML).join(""),r=window.open("","_blank");r&&(r.document.write("<html><head><title>Certificate</title>"+n+'<style>@page{size:A4 landscape;margin:15mm;} body{margin:0;} .print-hide{display:none!important;} .certificate-wrapper{width:100%;}</style></head><body><div class="certificate-wrapper">'+s+"</div></body></html>"),r.document.close(),r.focus(),r.print(),r.close())},te=s=>{const n=Math.floor(s/60).toString().padStart(2,"0"),r=(s%60).toString().padStart(2,"0");return`${n}:${r}`};C.useEffect(()=>{k&&(P(!0),R.reload({onFinish:()=>P(!1)}))},[k]);const x=s=>b.some(n=>n.course_lesson_id===s),w=m.useMemo(()=>t.sections.flatMap(s=>s.lessons),[t.sections]),U=m.useMemo(()=>w.findIndex(s=>!x(s.id)),[w,b]),V=s=>{const n=w.findIndex(l=>l.id===s.id);if(n===-1||x(s.id))return!1;const r=t.sections.findIndex(l=>l.lessons.some(g=>g.id===s.id));if(r>0){const l=t.sections[r-1];if(l?.quiz&&!j(l.quiz))return!0}return U!==-1&&n>U},se=m.useMemo(()=>{if(i?.type!=="lesson")return!0;const s=w.findIndex(n=>n.id===i.content.id);return w.slice(0,s).every(n=>x(n.id))},[i,w,b]),j=s=>s?s.id===t.finalQuiz?.id?o.some(n=>n.score/n.total_questions>=.8):s.attempts.some(n=>n.score/n.total_questions>=.8):!1,H=s=>{const n=s.lessons.every(l=>x(l.id)),r=!s.quiz||j(s.quiz);return n&&r},z=m.useMemo(()=>t.sections.every(H),[t.sections,b]);m.useMemo(()=>z&&j(t.finalQuiz),[z,t.finalQuiz,o]);const W=()=>{if(i?.type==="lesson"){const{content:s}=i,n=t.sections.findIndex(g=>g.lessons.some(_=>_.id===s.id)),r=t.sections[n],l=r.lessons.findIndex(g=>g.id===s.id);if(l<r.lessons.length-1)return{type:"lesson",content:r.lessons[l+1]};if(r.quiz)return{type:"quiz",content:r.quiz};if(n<t.sections.length-1){const g=t.sections[n+1];return g?.lessons[0]?{type:"lesson",content:g.lessons[0]}:null}}if(i?.type==="quiz"){const s=t.sections.findIndex(l=>l.quiz?.id===i.content.id),n=t.sections.find(l=>l.quiz?.id===i.content.id)?.quiz;if(j(n)&&s!==-1&&s<t.sections.length-1){const l=t.sections[s+1];if(l?.lessons.length>0)return{type:"lesson",content:l.lessons[0]}}}return t.finalQuiz&&z&&!(i?.type==="quiz"&&i.content.id===t.finalQuiz.id)?{type:"quiz",content:t.finalQuiz}:null},Y=()=>{if(i?.type!=="lesson")return null;let s=null;for(const n of t.sections)for(const r of n.lessons){if(r.id===i.content.id)return s;s=r}return null},E=async s=>{x(s)||(R.post(`/course-progress/${s}`,{course_id:t.id},{preserveScroll:!0,preserveState:!0}),I(n=>[...n,{course_lesson_id:s}]))},Z=async()=>{if(i?.type==="lesson"){const n=w.findIndex(l=>l.id===i.content.id);if(!w.slice(0,n).every(l=>x(l.id))){const l=w.find(g=>!x(g.id));l&&u({type:"lesson",content:l});return}await E(i.content.id)}const s=W();if(i?.type==="quiz"){const n=t.sections.find(r=>r.quiz?.id===i.content.id)?.quiz||(t.finalQuiz?.id===i.content.id?t.finalQuiz:null);if(!j(n))return}s&&(s.type==="quiz"?(s.content.attempts||[]).length>0?u(s):(d(s.content),S(!0)):u(s))},G=async()=>{i?.type==="lesson"&&await E(i.content.id),o.length>0?u({type:"quiz",content:t.finalQuiz}):(d(t.finalQuiz),S(!0))},ne=()=>{if(T)return f?null:e.jsx("div",{className:"text-center p-8",children:"Submitting and loading results..."});if(f){const s=new Date().toLocaleDateString(),n=O().props.auth?.user?.first_name||t.user?.first_name||"",r=O().props.auth?.user?.last_name||t.user?.last_name||"";return e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsxs("div",{ref:$,className:"w-full max-w-2xl border-4 border-yellow-400 rounded-xl p-8 bg-white dark:bg-darkSecondary shadow-2xl relative print:shadow-none",children:[e.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none select-none opacity-10 bg-[radial-gradient(circle_at_center,_#fbbf24,_transparent_70%)]"}),e.jsx("h1",{className:"text-3xl font-extrabold text-center mb-2 tracking-wide",children:"Certificate of Completion"}),e.jsx("p",{className:"text-center text-sm uppercase text-gray-400 mb-6",children:"This certifies that"}),e.jsxs("p",{className:"text-center text-2xl font-semibold mb-4",children:[n," ",r]}),e.jsx("p",{className:"text-center text-lg mb-4",children:"has successfully completed the course"}),e.jsxs("p",{className:"text-center text-2xl font-bold mb-6 italic",children:['"',t.title,'"']}),e.jsx("div",{className:"flex justify-between mt-10 text-sm",children:e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold",children:"Date"}),e.jsx("p",{children:s})]})}),e.jsxs("div",{className:"mt-8 flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>F(!1),className:"px-4 py-2 bg-gray-200 text-black rounded-md print-hide",children:"Back"}),e.jsx("button",{onClick:ee,className:"px-4 py-2 bg-primary text-white rounded-md print-hide",children:"Print / Save PDF"})]})]})})}if(i?.type==="quiz"){const s=i.content.id;let n=t.sections.find(r=>r.quiz?.id===s)?.quiz||(t.finalQuiz?.id===s?t.finalQuiz:null);return n&&t.finalQuiz?.id===n.id&&(n={...n,attempts:o}),e.jsx(de,{quiz:n||i.content})}return i?.type==="lesson"?e.jsxs("div",{children:[(i.content.s3_video_url||i.content.video_url)&&e.jsx(oe,{videoUrl:i.content.s3_video_url||i.content.video_url,onVideoEnded:()=>E(i.content.id)}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:i.title}),e.jsxs("div",{className:"flex items-center mt-4",children:[e.jsx("img",{className:"w-10 h-10 rounded-full mr-4",src:t.user.profile_image_url||"/assets/icons/profile.svg",alt:t.user.first_name}),e.jsxs(le,{href:`/tutors/${t.user.id}`,className:"text-lg font-bold",children:[t.user.first_name," ",t.user.last_name]})]}),e.jsx("p",{className:"text-gray-400 mt-4",children:i.description})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h2",{className:"text-2xl font-bold",children:i.content.title}),e.jsx("p",{className:"text-gray-400 mt-4",children:i.content.description})]})]}):e.jsx("div",{className:"text-center p-8",children:"Select an item to begin."})},ie=()=>{const s=W(),n=[];i?.type==="lesson"&&(()=>{const p=t.sections.flatMap(Q=>Q.lessons);return p.length&&p[p.length-1].id===i.content.id})();const r=async()=>{i?.type==="lesson"&&!x(i.content.id)&&await E(i.content.id),R.post(`/courses/${t.id}/complete`)},l=t.sections.every(p=>p.lessons.every(Q=>x(Q.id)||i?.type==="lesson"&&Q.id===i.content.id)),g=t.sections.every(p=>!p.quiz||j(p.quiz)),_=!!t.finalQuiz&&g&&(z||l);if(y||n.push(e.jsx("button",{onClick:()=>M(!0),className:"px-4 py-2 bg-primary text-white rounded-md",children:"Review Course"},"review")),h||n.push(e.jsx("button",{onClick:()=>L(!0),className:"px-4 py-2 bg-secondary text-white rounded-md",children:"Review Tutor"},"review-tutor")),!s&&_&&i?.type!=="quiz")return n.push(e.jsx("button",{onClick:G,className:"px-4 py-2 bg-primary text-white rounded-md",children:o.length>0?"View Final Quiz":"Start Final Quiz"},"start-final")),e.jsx("div",{className:"flex gap-3",children:n});if(!s)return i?.type==="quiz"&&i.content.id!==t.finalQuiz?.id?(n.push(e.jsx("button",{onClick:Z,disabled:!j(t.sections.find(p=>p.quiz?.id===i.content.id)?.quiz),title:j(t.sections.find(p=>p.quiz?.id===i.content.id)?.quiz)?void 0:"Pass the quiz to continue",className:"px-4 py-2 bg-primary text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Next Lesson"},"next")),e.jsx("div",{className:"flex gap-3",children:n})):(!t.finalQuiz&&i?.type==="lesson"?q?n.push(e.jsx("button",{onClick:()=>F(!0),className:"px-4 py-2 bg-primary text-white rounded-md",children:"View Certificate"},"certificate")):n.push(e.jsx("button",{onClick:r,className:"px-4 py-2 bg-primary text-white rounded-md",children:"Complete Course"},"complete")):t.finalQuiz&&i?.type!=="quiz"?n.push(e.jsx("button",{onClick:_?G:void 0,disabled:!_,title:_?void 0:"Complete all sections to unlock",className:"px-4 py-2 bg-primary text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Start Final Quiz"},"start-final")):j(t.finalQuiz)&&n.push(e.jsx("button",{onClick:()=>F(!0),className:"px-4 py-2 bg-primary text-white rounded-md",children:"View Certificate"},"certificate")),e.jsx("div",{className:"flex gap-3",children:n}));let J="Next Lesson";return s?.type==="quiz"&&(J=s.content.id===t.finalQuiz?.id?"Start Final Quiz":"Start Section Quiz"),n.push(e.jsx("button",{onClick:Z,className:"px-4 py-2 bg-primary text-white rounded-md disabled:opacity-50 disabled:cursor-not-allowed",disabled:T||i?.type==="lesson"&&(()=>{const p=w.findIndex(Q=>Q.id===i.content.id);return!w.slice(0,p).every(Q=>x(Q.id))})(),title:i?.type==="lesson"&&!se?"Complete previous lessons to continue":void 0,children:J},"next")),e.jsx("div",{className:"flex gap-3",children:n})};return e.jsxs("div",{children:[N&&e.jsx(K,{revieweeType:"Course",revieweeName:t.title,postUrl:`/courses/${t.id}/reviews`,onClose:()=>M(!1),onSuccess:()=>R.reload()}),D&&e.jsx(K,{revieweeType:"Tutor",revieweeName:`${t.user.first_name} ${t.user.last_name}`,postUrl:`/tutors/${t.user.id}/reviews`,onClose:()=>L(!1),onSuccess:()=>R.reload()}),A&&e.jsx(X,{isOpen:A,onClose:()=>{S(!1),d(null)},onConfirm:()=>{a&&u({type:"quiz",content:a}),S(!1),d(null)},title:"Start Quiz",message:`This quiz has a time limit of ${te(a?.duration_seconds||900)}. The timer starts once you press Start.`,confirmText:"Start",cancelText:"Cancel"}),e.jsx(re,{title:t.title}),e.jsxs("div",{className:"flex flex-col md:flex-row h-[92vh]",children:[e.jsx("div",{className:"w-full md:w-1/4 bg-white dark:bg-darkPrimary border-r dark:border-dark overflow-y-auto",children:e.jsxs("ul",{children:[t.sections.map(s=>e.jsxs("li",{className:"mb-1",children:[e.jsxs("h3",{className:"text-lg font-bold p-4 flex items-center justify-between bg-white dark:bg-darkSecondary dark:text-white",children:[s.title,H(s)&&e.jsx(B,{className:"w-5 h-5 text-green-500"})]}),e.jsxs("ul",{children:[s.lessons.map((n,r)=>e.jsxs("li",{className:`p-4 flex items-center justify-between dark:text-gray-200 ${i?.type==="lesson"&&i.content.id===n.id?"bg-gray-200 dark:bg-gray-700":""} ${V(n)?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,onClick:()=>{V(n)||u({type:"lesson",content:n})},title:V(n)?"Complete previous lessons to unlock":void 0,children:[e.jsxs("div",{children:["Episode ",r+1,":"," ",n.title]}),x(n.id)&&e.jsx(B,{className:"w-5 h-5 text-green-500"})]},n.id)),s.quiz&&e.jsxs("li",{className:`p-4 flex items-center justify-between font-semibold text-blue-400 ${i?.type==="quiz"&&i.content.id===s.quiz.id?"bg-gray-200 dark:bg-gray-700":""} ${s.lessons.every(n=>x(n.id))?"cursor-pointer":"opacity-50 cursor-not-allowed"}`,onClick:()=>{s.lessons.every(n=>x(n.id))&&((s.quiz.attempts||[]).length>0?u({type:"quiz",content:s.quiz}):(d(s.quiz),S(!0)))},title:s.lessons.every(n=>x(n.id))?void 0:"Complete lessons in this section to unlock quiz",children:[e.jsxs("div",{children:["Take Quiz: ",s.quiz.title]}),j(s.quiz)&&e.jsx(B,{className:"w-5 h-5 text-green-500"})]})]})]},s.id)),t.finalQuiz&&e.jsxs("li",{title:z?"Take the Final Quiz":"Complete all sections to unlock",className:`p-4 cursor-pointer flex items-center justify-between font-bold text-purple-600 dark:text-purple-400 bg-purple-100 dark:bg-purple-900 ${i?.type==="quiz"&&i.content.id===t.finalQuiz.id?"bg-gray-300 dark:bg-gray-700":""} ${z?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>{z&&(o.length>0?u({type:"quiz",content:t.finalQuiz}):(d(t.finalQuiz),S(!0)))},children:[e.jsxs("div",{className:"flex items-center",children:[!z&&e.jsx(ue,{className:"w-5 h-5 mr-2"}),e.jsxs("div",{children:["Take Final Quiz:"," ",t.finalQuiz.title]})]}),j(t.finalQuiz)&&e.jsx(B,{className:"w-5 h-5 text-green-500"})]})]})}),e.jsxs("div",{className:"w-full md:w-3/4 p-4 overflow-y-auto dark:bg-darkPrimary dark:text-white",children:[ne(),e.jsxs("div",{className:"flex justify-between mt-4",children:[e.jsx("button",{onClick:()=>{const s=Y();s&&u({type:"lesson",content:s})},disabled:!Y(),className:"px-4 py-2 bg-gray-200 text-black rounded-md disabled:opacity-50",children:"Previous Lesson"}),ie()]})]})]})]})}me.layout=t=>e.jsx(ae,{children:t});export{me as default};
