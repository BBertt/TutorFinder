import{r as d,j as t,d as wt,R as ee,e as Pe,b as ye,u as jt,H as Nt,a as qe}from"./app-vktjkHzL.js";import{L as _t}from"./Layout-DdWA2cnw.js";import{V as Ct}from"./VideoPlayer-DfWD73Vq.js";import{C as ge}from"./ConfirmationModal-CGS6daQf.js";import"./GuestNavbar-DMqcayHC.js";import"./SuccessModal-CEwhlc4c.js";function St({data:e,setData:o,errors:s,clearErrors:r,setFrontendErrors:n,course:a,categories:i,frontendErrors:l={}}){const[c,m]=d.useState(null),[u,g]=d.useState(""),[R,z]=d.useState(""),[b,f]=d.useState(""),[p,y]=d.useState(""),[A,_]=d.useState(""),[q,L]=d.useState(""),[F,Q]=d.useState(""),[x,j]=d.useState(""),[D,U]=d.useState(""),[v,S]=d.useState(""),[$,O]=d.useState(!1),I=d.useRef(null),V=C=>/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)[A-Za-z0-9_-]{11}(?:[&#?].*)?$/.test(C.trim()),N=C=>{try{const X=new URL(C);if(X.hostname.includes("youtu.be"))return X.pathname.slice(1);if(X.hostname.includes("youtube.com"))return X.searchParams.get("v")}catch{}const M=C.match(/(?:v=|youtu\.be\/)([A-Za-z0-9_-]{11})/);return M?M[1]:null};d.useEffect(()=>{!e.thumbnail_image&&a?.thumbnail_image_url&&m(a.thumbnail_image_url),a?.intro_video_url&&g(a.intro_video_url)},[a]),d.useEffect(()=>{function C(M){if(I.current&&!I.current.contains(M.target)&&(O(!1),!i.find(W=>W.name.toLowerCase()===v.toLowerCase())))if(!e.category_id)S("");else{const W=i.find(h=>h.id===e.category_id);W&&S(W.name)}}return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[I,v,e.category_id,i]);const Y=v===""?i:i.filter(C=>C.name.toLowerCase().replace(/\s+/g,"").includes(v.toLowerCase().replace(/\s+/g,""))),se=(C,M,X)=>{const W=C.target.files[0];W&&(o(M,W),X(URL.createObjectURL(W)),errorSetter(""),r&&r(M),n&&n({}))},K=(C,M,X,W)=>{o(C,M),r&&r(C),n&&n({}),X(M?"":W)},te=!u||V(u);return t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 mt-8","data-intro-video-valid":te,children:[t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"title",className:"block text-sm font-medium dark:text-white",children:"Title"}),t.jsx("input",{type:"text",id:"title",placeholder:"Input your course title here...",value:e.title,onChange:C=>K("title",C.target.value,z,"The title field is required."),className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"}),(R||s.title||l.title)&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:R||s.title||l.title})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-black dark:text-white",children:"Description"}),t.jsx("textarea",{id:"description",placeholder:"Input your course description here...",value:e.description,onChange:C=>K("description",C.target.value,f,"The description field is required."),rows:"5",className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"}),(b||s.description||l.description)&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:b||s.description||l.description})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"student_outcome",className:"block text-sm font-medium text-black dark:text-white",children:"What will they learn"}),t.jsx("textarea",{id:"student_outcome",placeholder:"Input what students will learn here...",value:e.student_outcome,onChange:C=>K("student_outcome",C.target.value,y,"The 'What will they learn' field is required."),rows:"5",className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"}),(p||s.student_outcome||l.student_outcome)&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:p||s.student_outcome||l.student_outcome})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"requirements",className:"block text-sm font-medium dark:text-white",children:"Requirements"}),t.jsx("textarea",{id:"requirements",placeholder:"Input course requirements here...",value:e.requirements,onChange:C=>K("requirements",C.target.value,_,"The requirements field is required."),rows:"5",className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"}),(A||s.requirements||l.requirements)&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:A||s.requirements||l.requirements})]})]}),t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium dark:text-white",children:"Featured Image"}),t.jsx("input",{type:"file",id:"thumbnail_image",accept:"image/*",onChange:C=>se(C,"thumbnail_image",m),className:"hidden"}),t.jsx("label",{htmlFor:"thumbnail_image",className:"mt-1 w-full h-48 border-2 border-dashed border-gray-200 rounded-lg flex items-center justify-center cursor-pointer hover:border-primary dark:bg-darkSecondary dark:border-dark dark:hover:border-primary",children:c?t.jsx("img",{src:c,alt:"Thumbnail Preview",className:"max-h-full max-w-full object-contain"}):t.jsx("span",{className:"text-center text-gray-400",children:"Click to upload image"})}),(q||s.thumbnail_image||l.thumbnail_image)&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:q||s.thumbnail_image||l.thumbnail_image})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-black dark:text-white",children:"Intro Video (YouTube URL)"}),t.jsx("input",{type:"url",inputMode:"url",placeholder:"https://www.youtube.com/watch?v=XXXXXXXXXXX",value:u,onChange:C=>{const M=C.target.value;g(M),o("intro_video",M),r&&r("intro_video"),n&&n({}),!M||V(M)?Q(""):Q("Please enter a valid YouTube URL")},className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"}),u&&V(u)&&t.jsx("div",{className:"mt-3 aspect-video w-full",children:t.jsx(Ct,{videoUrl:`https://www.youtube.com/embed/${N(u)}`,className:"h-1/2"})}),(F||s.intro_video||l.intro_video)&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:F||s.intro_video||l.intro_video})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"price",className:"block text-sm font-medium dark:text-white",children:"Price (Rp)"}),t.jsx("input",{type:"number",id:"price",value:e.price,onChange:C=>K("price",C.target.value,j,"The price field is required."),className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"}),(x||s.price||l.price)&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:x||s.price||l.price})]}),t.jsxs("div",{ref:I,className:"relative",children:[t.jsx("label",{htmlFor:"category_id",className:"block text-sm font-medium dark:text-white",children:"Category"}),t.jsx("input",{id:"category_id",type:"text",value:v,onFocus:()=>O(!0),onChange:C=>{S(C.target.value),r&&r("category_id"),n&&n({}),U(""),o("category_id","")},placeholder:"Search or select a category",autoComplete:"off",className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"}),$&&t.jsx("ul",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-darkSecondary border border-gray-300 dark:border-dark rounded-md shadow-lg max-h-60 overflow-auto",children:Y.length>0?Y.map(C=>t.jsx("li",{onClick:()=>{S(C.name),o("category_id",C.id),O(!1),U("")},className:"px-4 py-2 text-black dark:text-white hover:bg-primary hover:text-white dark:hover:bg-primary cursor-pointer",children:C.name},C.id)):t.jsx("li",{className:"px-4 py-2 text-gray-400",children:"No categories found."})}),(D||s.category_id||l.category_id)&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:e.category_id?s.category_id||l.category_id:D||"Please select a valid category."})]})]})]})}function Z(e,o,{checkForDefaultPrevented:s=!0}={}){return function(n){if(e?.(n),s===!1||!n.defaultPrevented)return o?.(n)}}function Ae(e,o){if(typeof e=="function")return e(o);e!=null&&(e.current=o)}function Le(...e){return o=>{let s=!1;const r=e.map(n=>{const a=Ae(n,o);return!s&&typeof a=="function"&&(s=!0),a});if(s)return()=>{for(let n=0;n<r.length;n++){const a=r[n];typeof a=="function"?a():Ae(e[n],null)}}}}function re(...e){return d.useCallback(Le(...e),e)}function ve(e,o=[]){let s=[];function r(a,i){const l=d.createContext(i),c=s.length;s=[...s,i];const m=g=>{const{scope:R,children:z,...b}=g,f=R?.[e]?.[c]||l,p=d.useMemo(()=>b,Object.values(b));return t.jsx(f.Provider,{value:p,children:z})};m.displayName=a+"Provider";function u(g,R){const z=R?.[e]?.[c]||l,b=d.useContext(z);if(b)return b;if(i!==void 0)return i;throw new Error(`\`${g}\` must be used within \`${a}\``)}return[m,u]}const n=()=>{const a=s.map(i=>d.createContext(i));return function(l){const c=l?.[e]||a;return d.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return n.scopeName=e,[r,zt(n,...o)]}function zt(...e){const o=e[0];if(e.length===1)return o;const s=()=>{const r=e.map(n=>({useScope:n(),scopeName:n.scopeName}));return function(a){const i=r.reduce((l,{useScope:c,scopeName:m})=>{const g=c(a)[`__scope${m}`];return{...l,...g}},{});return d.useMemo(()=>({[`__scope${o.scopeName}`]:i}),[i])}};return s.scopeName=o.scopeName,s}wt();function _e(e){const o=Rt(e),s=d.forwardRef((r,n)=>{const{children:a,...i}=r,l=d.Children.toArray(a),c=l.find(At);if(c){const m=c.props.children,u=l.map(g=>g===c?d.Children.count(m)>1?d.Children.only(null):d.isValidElement(m)?m.props.children:null:g);return t.jsx(o,{...i,ref:n,children:d.isValidElement(m)?d.cloneElement(m,void 0,u):null})}return t.jsx(o,{...i,ref:n,children:a})});return s.displayName=`${e}.Slot`,s}function Rt(e){const o=d.forwardRef((s,r)=>{const{children:n,...a}=s;if(d.isValidElement(n)){const i=Tt(n),l=It(a,n.props);return n.type!==d.Fragment&&(l.ref=r?Le(r,i):i),d.cloneElement(n,l)}return d.Children.count(n)>1?d.Children.only(null):null});return o.displayName=`${e}.SlotClone`,o}var qt=Symbol("radix.slottable");function At(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qt}function It(e,o){const s={...o};for(const r in o){const n=e[r],a=o[r];/^on[A-Z]/.test(r)?n&&a?s[r]=(...l)=>{const c=a(...l);return n(...l),c}:n&&(s[r]=n):r==="style"?s[r]={...n,...a}:r==="className"&&(s[r]=[n,a].filter(Boolean).join(" "))}return{...e,...s}}function Tt(e){let o=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=o&&"isReactWarning"in o&&o.isReactWarning;return s?e.ref:(o=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=o&&"isReactWarning"in o&&o.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var Ot=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ie=Ot.reduce((e,o)=>{const s=_e(`Primitive.${o}`),r=d.forwardRef((n,a)=>{const{asChild:i,...l}=n,c=i?s:o;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(c,{...l,ref:a})});return r.displayName=`Primitive.${o}`,{...e,[o]:r}},{});function Et(e){const o=e+"CollectionProvider",[s,r]=ve(o),[n,a]=s(o,{collectionRef:{current:null},itemMap:new Map}),i=f=>{const{scope:p,children:y}=f,A=ee.useRef(null),_=ee.useRef(new Map).current;return t.jsx(n,{scope:p,itemMap:_,collectionRef:A,children:y})};i.displayName=o;const l=e+"CollectionSlot",c=_e(l),m=ee.forwardRef((f,p)=>{const{scope:y,children:A}=f,_=a(l,y),q=re(p,_.collectionRef);return t.jsx(c,{ref:q,children:A})});m.displayName=l;const u=e+"CollectionItemSlot",g="data-radix-collection-item",R=_e(u),z=ee.forwardRef((f,p)=>{const{scope:y,children:A,..._}=f,q=ee.useRef(null),L=re(p,q),F=a(u,y);return ee.useEffect(()=>(F.itemMap.set(q,{ref:q,..._}),()=>void F.itemMap.delete(q))),t.jsx(R,{[g]:"",ref:L,children:A})});z.displayName=u;function b(f){const p=a(e+"CollectionConsumer",f);return ee.useCallback(()=>{const A=p.collectionRef.current;if(!A)return[];const _=Array.from(A.querySelectorAll(`[${g}]`));return Array.from(p.itemMap.values()).sort((F,Q)=>_.indexOf(F.ref.current)-_.indexOf(Q.ref.current))},[p.collectionRef,p.itemMap])}return[{Provider:i,Slot:m,ItemSlot:z},b,r]}var ue=globalThis?.document?d.useLayoutEffect:()=>{},$t=Pe[" useId ".trim().toString()]||(()=>{}),Mt=0;function Pt(e){const[o,s]=d.useState($t());return ue(()=>{s(r=>r??String(Mt++))},[e]),o?`radix-${o}`:""}function Lt(e){const o=d.useRef(e);return d.useEffect(()=>{o.current=e}),d.useMemo(()=>(...s)=>o.current?.(...s),[])}var Ft=Pe[" useInsertionEffect ".trim().toString()]||ue;function Fe({prop:e,defaultProp:o,onChange:s=()=>{},caller:r}){const[n,a,i]=Dt({defaultProp:o,onChange:s}),l=e!==void 0,c=l?e:n;{const u=d.useRef(e!==void 0);d.useEffect(()=>{const g=u.current;g!==l&&console.warn(`${r} is changing from ${g?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=l},[l,r])}const m=d.useCallback(u=>{if(l){const g=Gt(u)?u(e):u;g!==e&&i.current?.(g)}else a(u)},[l,e,a,i]);return[c,m]}function Dt({defaultProp:e,onChange:o}){const[s,r]=d.useState(e),n=d.useRef(s),a=d.useRef(o);return Ft(()=>{a.current=o},[o]),d.useEffect(()=>{n.current!==s&&(a.current?.(s),n.current=s)},[s,n]),[s,r,a]}function Gt(e){return typeof e=="function"}var Ut=d.createContext(void 0);function De(e){const o=d.useContext(Ut);return e||o||"ltr"}var we="rovingFocusGroup.onEntryFocus",Qt={bubbles:!1,cancelable:!0},me="RovingFocusGroup",[Ce,Ge,Vt]=Et(me),[Xt,Ue]=ve(me,[Vt]),[Wt,Bt]=Xt(me),Qe=d.forwardRef((e,o)=>t.jsx(Ce.Provider,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Ce.Slot,{scope:e.__scopeRovingFocusGroup,children:t.jsx(Yt,{...e,ref:o})})}));Qe.displayName=me;var Yt=d.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:s,orientation:r,loop:n=!1,dir:a,currentTabStopId:i,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:m,preventScrollOnEntryFocus:u=!1,...g}=e,R=d.useRef(null),z=re(o,R),b=De(a),[f,p]=Fe({prop:i,defaultProp:l??null,onChange:c,caller:me}),[y,A]=d.useState(!1),_=Lt(m),q=Ge(s),L=d.useRef(!1),[F,Q]=d.useState(0);return d.useEffect(()=>{const x=R.current;if(x)return x.addEventListener(we,_),()=>x.removeEventListener(we,_)},[_]),t.jsx(Wt,{scope:s,orientation:r,dir:b,loop:n,currentTabStopId:f,onItemFocus:d.useCallback(x=>p(x),[p]),onItemShiftTab:d.useCallback(()=>A(!0),[]),onFocusableItemAdd:d.useCallback(()=>Q(x=>x+1),[]),onFocusableItemRemove:d.useCallback(()=>Q(x=>x-1),[]),children:t.jsx(ie.div,{tabIndex:y||F===0?-1:0,"data-orientation":r,...g,ref:z,style:{outline:"none",...e.style},onMouseDown:Z(e.onMouseDown,()=>{L.current=!0}),onFocus:Z(e.onFocus,x=>{const j=!L.current;if(x.target===x.currentTarget&&j&&!y){const D=new CustomEvent(we,Qt);if(x.currentTarget.dispatchEvent(D),!D.defaultPrevented){const U=q().filter(I=>I.focusable),v=U.find(I=>I.active),S=U.find(I=>I.id===f),O=[v,S,...U].filter(Boolean).map(I=>I.ref.current);We(O,u)}}L.current=!1}),onBlur:Z(e.onBlur,()=>A(!1))})})}),Ve="RovingFocusGroupItem",Xe=d.forwardRef((e,o)=>{const{__scopeRovingFocusGroup:s,focusable:r=!0,active:n=!1,tabStopId:a,children:i,...l}=e,c=Pt(),m=a||c,u=Bt(Ve,s),g=u.currentTabStopId===m,R=Ge(s),{onFocusableItemAdd:z,onFocusableItemRemove:b,currentTabStopId:f}=u;return d.useEffect(()=>{if(r)return z(),()=>b()},[r,z,b]),t.jsx(Ce.ItemSlot,{scope:s,id:m,focusable:r,active:n,children:t.jsx(ie.span,{tabIndex:g?0:-1,"data-orientation":u.orientation,...l,ref:o,onMouseDown:Z(e.onMouseDown,p=>{r?u.onItemFocus(m):p.preventDefault()}),onFocus:Z(e.onFocus,()=>u.onItemFocus(m)),onKeyDown:Z(e.onKeyDown,p=>{if(p.key==="Tab"&&p.shiftKey){u.onItemShiftTab();return}if(p.target!==p.currentTarget)return;const y=Zt(p,u.orientation,u.dir);if(y!==void 0){if(p.metaKey||p.ctrlKey||p.altKey||p.shiftKey)return;p.preventDefault();let _=R().filter(q=>q.focusable).map(q=>q.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const q=_.indexOf(p.currentTarget);_=u.loop?Jt(_,q+1):_.slice(q+1)}setTimeout(()=>We(_))}}),children:typeof i=="function"?i({isCurrentTabStop:g,hasTabStop:f!=null}):i})})});Xe.displayName=Ve;var Kt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ht(e,o){return o!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Zt(e,o,s){const r=Ht(e.key,s);if(!(o==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(o==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Kt[r]}function We(e,o=!1){const s=document.activeElement;for(const r of e)if(r===s||(r.focus({preventScroll:o}),document.activeElement!==s))return}function Jt(e,o){return e.map((s,r)=>e[(o+r)%e.length])}var eo=Qe,to=Xe;function oo(e){const[o,s]=d.useState(void 0);return ue(()=>{if(e){s({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(n=>{if(!Array.isArray(n)||!n.length)return;const a=n[0];let i,l;if("borderBoxSize"in a){const c=a.borderBoxSize,m=Array.isArray(c)?c[0]:c;i=m.inlineSize,l=m.blockSize}else i=e.offsetWidth,l=e.offsetHeight;s({width:i,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else s(void 0)},[e]),o}function ro(e){const o=d.useRef({value:e,previous:e});return d.useMemo(()=>(o.current.value!==e&&(o.current.previous=o.current.value,o.current.value=e),o.current.previous),[e])}function so(e,o){return d.useReducer((s,r)=>o[s][r]??s,e)}var Be=e=>{const{present:o,children:s}=e,r=no(o),n=typeof s=="function"?s({present:r.isPresent}):d.Children.only(s),a=re(r.ref,io(n));return typeof s=="function"||r.isPresent?d.cloneElement(n,{ref:a}):null};Be.displayName="Presence";function no(e){const[o,s]=d.useState(),r=d.useRef(null),n=d.useRef(e),a=d.useRef("none"),i=e?"mounted":"unmounted",[l,c]=so(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const m=fe(r.current);a.current=l==="mounted"?m:"none"},[l]),ue(()=>{const m=r.current,u=n.current;if(u!==e){const R=a.current,z=fe(m);e?c("MOUNT"):z==="none"||m?.display==="none"?c("UNMOUNT"):c(u&&R!==z?"ANIMATION_OUT":"UNMOUNT"),n.current=e}},[e,c]),ue(()=>{if(o){let m;const u=o.ownerDocument.defaultView??window,g=z=>{const f=fe(r.current).includes(CSS.escape(z.animationName));if(z.target===o&&f&&(c("ANIMATION_END"),!n.current)){const p=o.style.animationFillMode;o.style.animationFillMode="forwards",m=u.setTimeout(()=>{o.style.animationFillMode==="forwards"&&(o.style.animationFillMode=p)})}},R=z=>{z.target===o&&(a.current=fe(r.current))};return o.addEventListener("animationstart",R),o.addEventListener("animationcancel",g),o.addEventListener("animationend",g),()=>{u.clearTimeout(m),o.removeEventListener("animationstart",R),o.removeEventListener("animationcancel",g),o.removeEventListener("animationend",g)}}else c("ANIMATION_END")},[o,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(m=>{r.current=m?getComputedStyle(m):null,s(m)},[])}}function fe(e){return e?.animationName||"none"}function io(e){let o=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,s=o&&"isReactWarning"in o&&o.isReactWarning;return s?e.ref:(o=Object.getOwnPropertyDescriptor(e,"ref")?.get,s=o&&"isReactWarning"in o&&o.isReactWarning,s?e.props.ref:e.props.ref||e.ref)}var ze="Radio",[ao,Ye]=ve(ze),[lo,co]=ao(ze),Ke=d.forwardRef((e,o)=>{const{__scopeRadio:s,name:r,checked:n=!1,required:a,disabled:i,value:l="on",onCheck:c,form:m,...u}=e,[g,R]=d.useState(null),z=re(o,p=>R(p)),b=d.useRef(!1),f=g?m||!!g.closest("form"):!0;return t.jsxs(lo,{scope:s,checked:n,disabled:i,children:[t.jsx(ie.button,{type:"button",role:"radio","aria-checked":n,"data-state":et(n),"data-disabled":i?"":void 0,disabled:i,value:l,...u,ref:z,onClick:Z(e.onClick,p=>{n||c?.(),f&&(b.current=p.isPropagationStopped(),b.current||p.stopPropagation())})}),f&&t.jsx(Je,{control:g,bubbles:!b.current,name:r,value:l,checked:n,required:a,disabled:i,form:m,style:{transform:"translateX(-100%)"}})]})});Ke.displayName=ze;var He="RadioIndicator",Ze=d.forwardRef((e,o)=>{const{__scopeRadio:s,forceMount:r,...n}=e,a=co(He,s);return t.jsx(Be,{present:r||a.checked,children:t.jsx(ie.span,{"data-state":et(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:o})})});Ze.displayName=He;var uo="RadioBubbleInput",Je=d.forwardRef(({__scopeRadio:e,control:o,checked:s,bubbles:r=!0,...n},a)=>{const i=d.useRef(null),l=re(i,a),c=ro(s),m=oo(o);return d.useEffect(()=>{const u=i.current;if(!u)return;const g=window.HTMLInputElement.prototype,z=Object.getOwnPropertyDescriptor(g,"checked").set;if(c!==s&&z){const b=new Event("click",{bubbles:r});z.call(u,s),u.dispatchEvent(b)}},[c,s,r]),t.jsx(ie.input,{type:"radio","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:l,style:{...n.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Je.displayName=uo;function et(e){return e?"checked":"unchecked"}var mo=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ke="RadioGroup",[po,Or]=ve(ke,[Ue,Ye]),tt=Ue(),ot=Ye(),[fo,ho]=po(ke),rt=d.forwardRef((e,o)=>{const{__scopeRadioGroup:s,name:r,defaultValue:n,value:a,required:i=!1,disabled:l=!1,orientation:c,dir:m,loop:u=!0,onValueChange:g,...R}=e,z=tt(s),b=De(m),[f,p]=Fe({prop:a,defaultProp:n??null,onChange:g,caller:ke});return t.jsx(fo,{scope:s,name:r,required:i,disabled:l,value:f,onValueChange:p,children:t.jsx(eo,{asChild:!0,...z,orientation:c,dir:b,loop:u,children:t.jsx(ie.div,{role:"radiogroup","aria-required":i,"aria-orientation":c,"data-disabled":l?"":void 0,dir:b,...R,ref:o})})})});rt.displayName=ke;var st="RadioGroupItem",nt=d.forwardRef((e,o)=>{const{__scopeRadioGroup:s,disabled:r,...n}=e,a=ho(st,s),i=a.disabled||r,l=tt(s),c=ot(s),m=d.useRef(null),u=re(o,m),g=a.value===n.value,R=d.useRef(!1);return d.useEffect(()=>{const z=f=>{mo.includes(f.key)&&(R.current=!0)},b=()=>R.current=!1;return document.addEventListener("keydown",z),document.addEventListener("keyup",b),()=>{document.removeEventListener("keydown",z),document.removeEventListener("keyup",b)}},[]),t.jsx(to,{asChild:!0,...l,focusable:!i,active:g,children:t.jsx(Ke,{disabled:i,required:a.required,checked:g,...c,...n,name:a.name,ref:u,onCheck:()=>a.onValueChange(n.value),onKeyDown:Z(z=>{z.key==="Enter"&&z.preventDefault()}),onFocus:Z(n.onFocus,()=>{R.current&&m.current?.click()})})})});nt.displayName=st;var bo="RadioGroupIndicator",it=d.forwardRef((e,o)=>{const{__scopeRadioGroup:s,...r}=e,n=ot(s);return t.jsx(Ze,{...n,...r,ref:o})});it.displayName=bo;var go=rt,xo=nt,yo=it;/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ko=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,s,r)=>r?r.toUpperCase():s.toLowerCase()),Ie=e=>{const o=ko(e);return o.charAt(0).toUpperCase()+o.slice(1)},at=(...e)=>e.filter((o,s,r)=>!!o&&o.trim()!==""&&r.indexOf(o)===s).join(" ").trim(),wo=e=>{for(const o in e)if(o.startsWith("aria-")||o==="role"||o==="title")return!0};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=d.forwardRef(({color:e="currentColor",size:o=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:n="",children:a,iconNode:i,...l},c)=>d.createElement("svg",{ref:c,...jo,width:o,height:o,stroke:e,strokeWidth:r?Number(s)*24/Number(o):s,className:at("lucide",n),...!a&&!wo(l)&&{"aria-hidden":"true"},...l},[...i.map(([m,u])=>d.createElement(m,u)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _o=(e,o)=>{const s=d.forwardRef(({className:r,...n},a)=>d.createElement(No,{ref:a,iconNode:o,className:at(`lucide-${vo(Ie(e))}`,`lucide-${e}`,r),...n}));return s.displayName=Ie(e),s};/**
 * @license lucide-react v0.556.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],So=_o("circle",Co);function lt(e){var o,s,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(o=0;o<n;o++)e[o]&&(s=lt(e[o]))&&(r&&(r+=" "),r+=s)}else for(s in e)e[s]&&(r&&(r+=" "),r+=s);return r}function zo(){for(var e,o,s=0,r="",n=arguments.length;s<n;s++)(e=arguments[s])&&(o=lt(e))&&(r&&(r+=" "),r+=o);return r}const Ro=(e,o)=>{const s=new Array(e.length+o.length);for(let r=0;r<e.length;r++)s[r]=e[r];for(let r=0;r<o.length;r++)s[e.length+r]=o[r];return s},qo=(e,o)=>({classGroupId:e,validator:o}),ct=(e=new Map,o=null,s)=>({nextPart:e,validators:o,classGroupId:s}),xe="-",Te=[],Ao="arbitrary..",Io=e=>{const o=Oo(e),{conflictingClassGroups:s,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{if(i.startsWith("[")&&i.endsWith("]"))return To(i);const l=i.split(xe),c=l[0]===""&&l.length>1?1:0;return dt(l,c,o)},getConflictingClassGroupIds:(i,l)=>{if(l){const c=r[i],m=s[i];return c?m?Ro(m,c):c:m||Te}return s[i]||Te}}},dt=(e,o,s)=>{if(e.length-o===0)return s.classGroupId;const n=e[o],a=s.nextPart.get(n);if(a){const m=dt(e,o+1,a);if(m)return m}const i=s.validators;if(i===null)return;const l=o===0?e.join(xe):e.slice(o).join(xe),c=i.length;for(let m=0;m<c;m++){const u=i[m];if(u.validator(l))return u.classGroupId}},To=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const o=e.slice(1,-1),s=o.indexOf(":"),r=o.slice(0,s);return r?Ao+r:void 0})(),Oo=e=>{const{theme:o,classGroups:s}=e;return Eo(s,o)},Eo=(e,o)=>{const s=ct();for(const r in e){const n=e[r];Re(n,s,r,o)}return s},Re=(e,o,s,r)=>{const n=e.length;for(let a=0;a<n;a++){const i=e[a];$o(i,o,s,r)}},$o=(e,o,s,r)=>{if(typeof e=="string"){Mo(e,o,s);return}if(typeof e=="function"){Po(e,o,s,r);return}Lo(e,o,s,r)},Mo=(e,o,s)=>{const r=e===""?o:ut(o,e);r.classGroupId=s},Po=(e,o,s,r)=>{if(Fo(e)){Re(e(r),o,s,r);return}o.validators===null&&(o.validators=[]),o.validators.push(qo(s,e))},Lo=(e,o,s,r)=>{const n=Object.entries(e),a=n.length;for(let i=0;i<a;i++){const[l,c]=n[i];Re(c,ut(o,l),s,r)}},ut=(e,o)=>{let s=e;const r=o.split(xe),n=r.length;for(let a=0;a<n;a++){const i=r[a];let l=s.nextPart.get(i);l||(l=ct(),s.nextPart.set(i,l)),s=l}return s},Fo=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,Do=e=>{if(e<1)return{get:()=>{},set:()=>{}};let o=0,s=Object.create(null),r=Object.create(null);const n=(a,i)=>{s[a]=i,o++,o>e&&(o=0,r=s,s=Object.create(null))};return{get(a){let i=s[a];if(i!==void 0)return i;if((i=r[a])!==void 0)return n(a,i),i},set(a,i){a in s?s[a]=i:n(a,i)}}},Se="!",Oe=":",Go=[],Ee=(e,o,s,r,n)=>({modifiers:e,hasImportantModifier:o,baseClassName:s,maybePostfixModifierPosition:r,isExternal:n}),Uo=e=>{const{prefix:o,experimentalParseClassName:s}=e;let r=n=>{const a=[];let i=0,l=0,c=0,m;const u=n.length;for(let f=0;f<u;f++){const p=n[f];if(i===0&&l===0){if(p===Oe){a.push(n.slice(c,f)),c=f+1;continue}if(p==="/"){m=f;continue}}p==="["?i++:p==="]"?i--:p==="("?l++:p===")"&&l--}const g=a.length===0?n:n.slice(c);let R=g,z=!1;g.endsWith(Se)?(R=g.slice(0,-1),z=!0):g.startsWith(Se)&&(R=g.slice(1),z=!0);const b=m&&m>c?m-c:void 0;return Ee(a,z,R,b)};if(o){const n=o+Oe,a=r;r=i=>i.startsWith(n)?a(i.slice(n.length)):Ee(Go,!1,i,void 0,!0)}if(s){const n=r;r=a=>s({className:a,parseClassName:n})}return r},Qo=e=>{const o=new Map;return e.orderSensitiveModifiers.forEach((s,r)=>{o.set(s,1e6+r)}),s=>{const r=[];let n=[];for(let a=0;a<s.length;a++){const i=s[a],l=i[0]==="[",c=o.has(i);l||c?(n.length>0&&(n.sort(),r.push(...n),n=[]),r.push(i)):n.push(i)}return n.length>0&&(n.sort(),r.push(...n)),r}},Vo=e=>({cache:Do(e.cacheSize),parseClassName:Uo(e),sortModifiers:Qo(e),...Io(e)}),Xo=/\s+/,Wo=(e,o)=>{const{parseClassName:s,getClassGroupId:r,getConflictingClassGroupIds:n,sortModifiers:a}=o,i=[],l=e.trim().split(Xo);let c="";for(let m=l.length-1;m>=0;m-=1){const u=l[m],{isExternal:g,modifiers:R,hasImportantModifier:z,baseClassName:b,maybePostfixModifierPosition:f}=s(u);if(g){c=u+(c.length>0?" "+c:c);continue}let p=!!f,y=r(p?b.substring(0,f):b);if(!y){if(!p){c=u+(c.length>0?" "+c:c);continue}if(y=r(b),!y){c=u+(c.length>0?" "+c:c);continue}p=!1}const A=R.length===0?"":R.length===1?R[0]:a(R).join(":"),_=z?A+Se:A,q=_+y;if(i.indexOf(q)>-1)continue;i.push(q);const L=n(y,p);for(let F=0;F<L.length;++F){const Q=L[F];i.push(_+Q)}c=u+(c.length>0?" "+c:c)}return c},Bo=(...e)=>{let o=0,s,r,n="";for(;o<e.length;)(s=e[o++])&&(r=mt(s))&&(n&&(n+=" "),n+=r);return n},mt=e=>{if(typeof e=="string")return e;let o,s="";for(let r=0;r<e.length;r++)e[r]&&(o=mt(e[r]))&&(s&&(s+=" "),s+=o);return s},Yo=(e,...o)=>{let s,r,n,a;const i=c=>{const m=o.reduce((u,g)=>g(u),e());return s=Vo(m),r=s.cache.get,n=s.cache.set,a=l,l(c)},l=c=>{const m=r(c);if(m)return m;const u=Wo(c,s);return n(c,u),u};return a=i,(...c)=>a(Bo(...c))},Ko=[],G=e=>{const o=s=>s[e]||Ko;return o.isThemeGetter=!0,o},pt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,ft=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Ho=/^\d+\/\d+$/,Zo=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jo=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,er=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,tr=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,or=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ne=e=>Ho.test(e),T=e=>!!e&&!Number.isNaN(Number(e)),J=e=>!!e&&Number.isInteger(Number(e)),je=e=>e.endsWith("%")&&T(e.slice(0,-1)),H=e=>Zo.test(e),rr=()=>!0,sr=e=>Jo.test(e)&&!er.test(e),ht=()=>!1,nr=e=>tr.test(e),ir=e=>or.test(e),ar=e=>!k(e)&&!w(e),lr=e=>ae(e,xt,ht),k=e=>pt.test(e),oe=e=>ae(e,yt,sr),Ne=e=>ae(e,pr,T),$e=e=>ae(e,bt,ht),cr=e=>ae(e,gt,ir),he=e=>ae(e,vt,nr),w=e=>ft.test(e),de=e=>le(e,yt),dr=e=>le(e,fr),Me=e=>le(e,bt),ur=e=>le(e,xt),mr=e=>le(e,gt),be=e=>le(e,vt,!0),ae=(e,o,s)=>{const r=pt.exec(e);return r?r[1]?o(r[1]):s(r[2]):!1},le=(e,o,s=!1)=>{const r=ft.exec(e);return r?r[1]?o(r[1]):s:!1},bt=e=>e==="position"||e==="percentage",gt=e=>e==="image"||e==="url",xt=e=>e==="length"||e==="size"||e==="bg-size",yt=e=>e==="length",pr=e=>e==="number",fr=e=>e==="family-name",vt=e=>e==="shadow",hr=()=>{const e=G("color"),o=G("font"),s=G("text"),r=G("font-weight"),n=G("tracking"),a=G("leading"),i=G("breakpoint"),l=G("container"),c=G("spacing"),m=G("radius"),u=G("shadow"),g=G("inset-shadow"),R=G("text-shadow"),z=G("drop-shadow"),b=G("blur"),f=G("perspective"),p=G("aspect"),y=G("ease"),A=G("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],L=()=>[...q(),w,k],F=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto","contain","none"],x=()=>[w,k,c],j=()=>[ne,"full","auto",...x()],D=()=>[J,"none","subgrid",w,k],U=()=>["auto",{span:["full",J,w,k]},J,w,k],v=()=>[J,"auto",w,k],S=()=>["auto","min","max","fr",w,k],$=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],O=()=>["start","end","center","stretch","center-safe","end-safe"],I=()=>["auto",...x()],V=()=>[ne,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...x()],N=()=>[e,w,k],Y=()=>[...q(),Me,$e,{position:[w,k]}],se=()=>["no-repeat",{repeat:["","x","y","space","round"]}],K=()=>["auto","cover","contain",ur,lr,{size:[w,k]}],te=()=>[je,de,oe],C=()=>["","none","full",m,w,k],M=()=>["",T,de,oe],X=()=>["solid","dashed","dotted","double"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],h=()=>[T,je,Me,$e],E=()=>["","none",b,w,k],P=()=>["none",T,w,k],B=()=>["none",T,w,k],ce=()=>[T,w,k],pe=()=>[ne,"full",...x()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[H],breakpoint:[H],color:[rr],container:[H],"drop-shadow":[H],ease:["in","out","in-out"],font:[ar],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[H],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[H],shadow:[H],spacing:["px",T],text:[H],"text-shadow":[H],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ne,k,w,p]}],container:["container"],columns:[{columns:[T,k,w,l]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:L()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:Q()}],"overscroll-x":[{"overscroll-x":Q()}],"overscroll-y":[{"overscroll-y":Q()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:j()}],"inset-x":[{"inset-x":j()}],"inset-y":[{"inset-y":j()}],start:[{start:j()}],end:[{end:j()}],top:[{top:j()}],right:[{right:j()}],bottom:[{bottom:j()}],left:[{left:j()}],visibility:["visible","invisible","collapse"],z:[{z:[J,"auto",w,k]}],basis:[{basis:[ne,"full","auto",l,...x()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[T,ne,"auto","initial","none",k]}],grow:[{grow:["",T,w,k]}],shrink:[{shrink:["",T,w,k]}],order:[{order:[J,"first","last","none",w,k]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":v()}],"col-end":[{"col-end":v()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":v()}],"row-end":[{"row-end":v()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:x()}],"gap-x":[{"gap-x":x()}],"gap-y":[{"gap-y":x()}],"justify-content":[{justify:[...$(),"normal"]}],"justify-items":[{"justify-items":[...O(),"normal"]}],"justify-self":[{"justify-self":["auto",...O()]}],"align-content":[{content:["normal",...$()]}],"align-items":[{items:[...O(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...O(),{baseline:["","last"]}]}],"place-content":[{"place-content":$()}],"place-items":[{"place-items":[...O(),"baseline"]}],"place-self":[{"place-self":["auto",...O()]}],p:[{p:x()}],px:[{px:x()}],py:[{py:x()}],ps:[{ps:x()}],pe:[{pe:x()}],pt:[{pt:x()}],pr:[{pr:x()}],pb:[{pb:x()}],pl:[{pl:x()}],m:[{m:I()}],mx:[{mx:I()}],my:[{my:I()}],ms:[{ms:I()}],me:[{me:I()}],mt:[{mt:I()}],mr:[{mr:I()}],mb:[{mb:I()}],ml:[{ml:I()}],"space-x":[{"space-x":x()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":x()}],"space-y-reverse":["space-y-reverse"],size:[{size:V()}],w:[{w:[l,"screen",...V()]}],"min-w":[{"min-w":[l,"screen","none",...V()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[i]},...V()]}],h:[{h:["screen","lh",...V()]}],"min-h":[{"min-h":["screen","lh","none",...V()]}],"max-h":[{"max-h":["screen","lh",...V()]}],"font-size":[{text:["base",s,de,oe]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,w,Ne]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",je,k]}],"font-family":[{font:[dr,k,o]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[n,w,k]}],"line-clamp":[{"line-clamp":[T,"none",w,Ne]}],leading:[{leading:[a,...x()]}],"list-image":[{"list-image":["none",w,k]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",w,k]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...X(),"wavy"]}],"text-decoration-thickness":[{decoration:[T,"from-font","auto",w,oe]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[T,"auto",w,k]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:x()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",w,k]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",w,k]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:se()}],"bg-size":[{bg:K()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},J,w,k],radial:["",w,k],conic:[J,w,k]},mr,cr]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:te()}],"gradient-via-pos":[{via:te()}],"gradient-to-pos":[{to:te()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:C()}],"rounded-s":[{"rounded-s":C()}],"rounded-e":[{"rounded-e":C()}],"rounded-t":[{"rounded-t":C()}],"rounded-r":[{"rounded-r":C()}],"rounded-b":[{"rounded-b":C()}],"rounded-l":[{"rounded-l":C()}],"rounded-ss":[{"rounded-ss":C()}],"rounded-se":[{"rounded-se":C()}],"rounded-ee":[{"rounded-ee":C()}],"rounded-es":[{"rounded-es":C()}],"rounded-tl":[{"rounded-tl":C()}],"rounded-tr":[{"rounded-tr":C()}],"rounded-br":[{"rounded-br":C()}],"rounded-bl":[{"rounded-bl":C()}],"border-w":[{border:M()}],"border-w-x":[{"border-x":M()}],"border-w-y":[{"border-y":M()}],"border-w-s":[{"border-s":M()}],"border-w-e":[{"border-e":M()}],"border-w-t":[{"border-t":M()}],"border-w-r":[{"border-r":M()}],"border-w-b":[{"border-b":M()}],"border-w-l":[{"border-l":M()}],"divide-x":[{"divide-x":M()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":M()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...X(),"hidden","none"]}],"divide-style":[{divide:[...X(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...X(),"none","hidden"]}],"outline-offset":[{"outline-offset":[T,w,k]}],"outline-w":[{outline:["",T,de,oe]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",u,be,he]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",g,be,he]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[T,oe]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":M()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",R,be,he]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[T,w,k]}],"mix-blend":[{"mix-blend":[...W(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":W()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[T]}],"mask-image-linear-from-pos":[{"mask-linear-from":h()}],"mask-image-linear-to-pos":[{"mask-linear-to":h()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":h()}],"mask-image-t-to-pos":[{"mask-t-to":h()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":h()}],"mask-image-r-to-pos":[{"mask-r-to":h()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":h()}],"mask-image-b-to-pos":[{"mask-b-to":h()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":h()}],"mask-image-l-to-pos":[{"mask-l-to":h()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":h()}],"mask-image-x-to-pos":[{"mask-x-to":h()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":h()}],"mask-image-y-to-pos":[{"mask-y-to":h()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[w,k]}],"mask-image-radial-from-pos":[{"mask-radial-from":h()}],"mask-image-radial-to-pos":[{"mask-radial-to":h()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":q()}],"mask-image-conic-pos":[{"mask-conic":[T]}],"mask-image-conic-from-pos":[{"mask-conic-from":h()}],"mask-image-conic-to-pos":[{"mask-conic-to":h()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:se()}],"mask-size":[{mask:K()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",w,k]}],filter:[{filter:["","none",w,k]}],blur:[{blur:E()}],brightness:[{brightness:[T,w,k]}],contrast:[{contrast:[T,w,k]}],"drop-shadow":[{"drop-shadow":["","none",z,be,he]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",T,w,k]}],"hue-rotate":[{"hue-rotate":[T,w,k]}],invert:[{invert:["",T,w,k]}],saturate:[{saturate:[T,w,k]}],sepia:[{sepia:["",T,w,k]}],"backdrop-filter":[{"backdrop-filter":["","none",w,k]}],"backdrop-blur":[{"backdrop-blur":E()}],"backdrop-brightness":[{"backdrop-brightness":[T,w,k]}],"backdrop-contrast":[{"backdrop-contrast":[T,w,k]}],"backdrop-grayscale":[{"backdrop-grayscale":["",T,w,k]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[T,w,k]}],"backdrop-invert":[{"backdrop-invert":["",T,w,k]}],"backdrop-opacity":[{"backdrop-opacity":[T,w,k]}],"backdrop-saturate":[{"backdrop-saturate":[T,w,k]}],"backdrop-sepia":[{"backdrop-sepia":["",T,w,k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":x()}],"border-spacing-x":[{"border-spacing-x":x()}],"border-spacing-y":[{"border-spacing-y":x()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",w,k]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[T,"initial",w,k]}],ease:[{ease:["linear","initial",y,w,k]}],delay:[{delay:[T,w,k]}],animate:[{animate:["none",A,w,k]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[f,w,k]}],"perspective-origin":[{"perspective-origin":L()}],rotate:[{rotate:P()}],"rotate-x":[{"rotate-x":P()}],"rotate-y":[{"rotate-y":P()}],"rotate-z":[{"rotate-z":P()}],scale:[{scale:B()}],"scale-x":[{"scale-x":B()}],"scale-y":[{"scale-y":B()}],"scale-z":[{"scale-z":B()}],"scale-3d":["scale-3d"],skew:[{skew:ce()}],"skew-x":[{"skew-x":ce()}],"skew-y":[{"skew-y":ce()}],transform:[{transform:[w,k,"","none","gpu","cpu"]}],"transform-origin":[{origin:L()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:pe()}],"translate-x":[{"translate-x":pe()}],"translate-y":[{"translate-y":pe()}],"translate-z":[{"translate-z":pe()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",w,k]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":x()}],"scroll-mx":[{"scroll-mx":x()}],"scroll-my":[{"scroll-my":x()}],"scroll-ms":[{"scroll-ms":x()}],"scroll-me":[{"scroll-me":x()}],"scroll-mt":[{"scroll-mt":x()}],"scroll-mr":[{"scroll-mr":x()}],"scroll-mb":[{"scroll-mb":x()}],"scroll-ml":[{"scroll-ml":x()}],"scroll-p":[{"scroll-p":x()}],"scroll-px":[{"scroll-px":x()}],"scroll-py":[{"scroll-py":x()}],"scroll-ps":[{"scroll-ps":x()}],"scroll-pe":[{"scroll-pe":x()}],"scroll-pt":[{"scroll-pt":x()}],"scroll-pr":[{"scroll-pr":x()}],"scroll-pb":[{"scroll-pb":x()}],"scroll-pl":[{"scroll-pl":x()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",w,k]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[T,de,oe,Ne]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},br=Yo(hr);function kt(...e){return br(zo(e))}function gr({className:e,...o}){return t.jsx(go,{"data-slot":"radio-group",className:kt("grid gap-3",e),...o})}function xr({className:e,...o}){return t.jsx(xo,{"data-slot":"radio-group-item",className:kt("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border-2 shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...o,children:t.jsx(yo,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:t.jsx(So,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function yr({value:e,onChange:o,errors:s={},errorPrefix:r="",setFrontendErrors:n}){const a=e||{title:"",questions:[]},i=b=>{const f=typeof b=="function"?b(a):b;o(f)},l=()=>{n&&s[`${r}.questions_min`]&&n(b=>{const f={...b};return delete f[`${r}.questions_min`],f}),i({...a,questions:[...a.questions||[],{id:`temp_question_${Date.now()}`,question:"",options:[{id:`temp_option_${Date.now()}`,option:"",is_correct:!0}]}]})},c=b=>{i({...a,questions:a.questions.filter((f,p)=>p!==b)})},m=(b,f)=>{n&&(!f||f.trim()===""?n(p=>({...p,[`${r}.questions.${b}.question`]:"Question text is required."})):s[`${r}.questions.${b}.question`]&&n(p=>{const y={...p};return delete y[`${r}.questions.${b}.question`],y})),i({...a,questions:a.questions.map((p,y)=>y===b?{...p,question:f}:p)})},u=b=>{i({...a,questions:a.questions.map((f,p)=>p===b?{...f,options:[...f.options||[],{id:`temp_option_${Date.now()}`,option:"",is_correct:!1}]}:f)})},g=(b,f)=>{i({...a,questions:a.questions.map((p,y)=>y===b?{...p,options:p.options.filter((A,_)=>_!==f)}:p)})},R=(b,f,p)=>{if(n){const y=`${r}.questions.${b}.options.${f}.option`;!p||p.trim()===""?n(A=>({...A,[y]:"Option text is required."})):s[y]&&n(A=>{const _={...A};return delete _[y],_})}i({...a,questions:a.questions.map((y,A)=>A===b?{...y,options:y.options.map((_,q)=>q===f?{..._,option:p}:_)}:y)})},z=(b,f)=>{n&&s[`${r}.questions.${b}.correct_option`]&&n(p=>{const y={...p};return delete y[`${r}.questions.${b}.correct_option`],y}),i({...a,questions:a.questions.map((p,y)=>y===b?{...p,options:p.options.map((A,_)=>({...A,is_correct:_===f}))}:p)})};return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx("h3",{className:"text-md font-semibold",children:"Quiz Questions"}),t.jsx("button",{type:"button",onClick:l,className:"px-2 py-1 text-sm bg-primary text-white rounded-md",children:"+ Add Question"})]}),s[`${r}.questions_min`]&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:s[`${r}.questions_min`]}),t.jsx("div",{className:"grid grid-cols-1 gap-3",children:t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium dark:text-white",children:"Quiz Description"}),t.jsx("textarea",{value:a.description||"",onChange:b=>i({...a,description:b.target.value}),rows:3,className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400",placeholder:"Enter quiz instructions or description..."})]})}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:t.jsxs("div",{children:[t.jsx("label",{className:"text-sm font-medium dark:text-white",children:"Quiz Duration (minutes)"}),t.jsx("input",{type:"number",min:"1",step:"1",value:Math.max(1,Math.round((a.duration_seconds||900)/60)),onChange:b=>{const f=parseInt(b.target.value||"0",10);i({...a,duration_seconds:Math.max(1,f)*60})},className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"}),t.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Students must finish within this time."})]})}),(a.questions||[]).length===0&&t.jsx("p",{className:"text-sm text-gray-400",children:"No questions yet."}),(a.questions||[]).map((b,f)=>{const p=(b.options||[]).find(_=>_.is_correct),y=p?String(p.id):void 0,A=_=>{const q=(b.options||[]).findIndex(L=>String(L.id)===_);q!==-1&&z(f,q)};return t.jsxs("div",{className:"border dark:border-dark rounded-md p-3 space-y-2",children:[t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"flex gap-2 items-start",children:[t.jsx("input",{type:"text",value:b.question||"",onChange:_=>m(f,_.target.value),placeholder:`Question ${f+1}`,className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"}),t.jsx("button",{type:"button",onClick:()=>c(f),className:"text-red-500 text-sm font-semibold",children:"Remove"})]}),s[`${r}.questions.${f}.question`]&&t.jsx("p",{className:"text-red-500 text-sm",children:s[`${r}.questions.${f}.question`]})]}),t.jsx(gr,{value:y,onValueChange:A,className:"pl-2 space-y-2",children:(b.options||[]).map((_,q)=>t.jsxs("div",{className:"space-y-1",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(xr,{value:String(_.id),id:String(_.id)}),t.jsx("input",{type:"text",value:_.option||"",onChange:L=>R(f,q,L.target.value),placeholder:`Option ${q+1}`,className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"}),t.jsx("button",{type:"button",onClick:()=>g(f,q),className:"text-xs text-red-500 font-semibold",children:"Delete"})]}),s[`${r}.questions.${f}.options.${q}.option`]&&t.jsx("p",{className:"text-red-500 text-xs ml-6",children:s[`${r}.questions.${f}.options.${q}.option`]})]},_.id||q))}),s[`${r}.questions.${f}.correct_option`]&&t.jsx("p",{className:"text-red-500 text-sm ml-2",children:s[`${r}.questions.${f}.correct_option`]}),t.jsx("div",{className:"pl-2",children:t.jsx("button",{type:"button",onClick:()=>u(f),className:"text-sm text-primary font-semibold",children:"+ Add Option"})})]},b.id||f)})]})}function vr({isOpen:e,onClose:o,onSave:s,onDelete:r,initialData:n,title:a}){const[i,l]=d.useState({title:"",description:"",duration_seconds:900,questions:[]}),[c,m]=d.useState({}),[u,g]=d.useState(!1);d.useEffect(()=>{e&&(l(n?{title:n.title||"",description:n.description||"",duration_seconds:n.duration_seconds||900,questions:n.questions||[]}:{title:"",description:"",duration_seconds:900,questions:[]}),m({}),g(!1))},[e,n]);const R=()=>{const p={};return(!i.title||i.title.trim()==="")&&(p.title="Quiz title is required."),!i.questions||i.questions.length===0?p["quiz.questions_min"]="Quiz must have at least one question.":i.questions.forEach((y,A)=>{(!y.question||y.question.trim()==="")&&(p[`quiz.questions.${A}.question`]="Question text is required."),(y.options||[]).forEach((q,L)=>{(!q.option||q.option.trim()==="")&&(p[`quiz.questions.${A}.options.${L}.option`]="Option text is required.")}),y.options&&y.options.some(q=>q.is_correct)||(p[`quiz.questions.${A}.correct_option`]="Select a correct answer.")}),m(p),Object.keys(p).length===0},z=()=>{R()&&(s(i),o())},b=()=>{g(!0)},f=()=>{r(),g(!1),o()};return e?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4 overflow-y-auto",children:t.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-4xl dark:bg-darkSecondary my-8 max-h-[90vh] flex flex-col",children:[t.jsxs("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center sticky top-0 bg-white dark:bg-darkSecondary z-10 rounded-t-lg",children:[t.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:a}),t.jsx("button",{onClick:o,className:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("div",{className:"p-6 overflow-y-auto",children:[t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium dark:text-white mb-1",children:"Quiz Title"}),t.jsx("input",{type:"text",value:i.title,onChange:p=>{l({...i,title:p.target.value}),c.title&&m(y=>{const A={...y};return delete A.title,A})},className:"w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400",placeholder:"Enter Quiz Title"}),c.title&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:c.title})]}),t.jsx(yr,{value:i,onChange:l,errors:c,setFrontendErrors:m,errorPrefix:"quiz"})]}),t.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-gray-700 flex justify-end gap-2 bg-gray-50 dark:bg-darkSecondary rounded-b-lg sticky bottom-0",children:[n&&r&&t.jsx("button",{type:"button",onClick:b,className:"mr-auto px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Delete Quiz"}),t.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 rounded-lg bg-gray-200 text-black dark:text-white font-medium hover:bg-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Cancel"}),t.jsx("button",{type:"button",onClick:z,className:"px-4 py-2 rounded-lg bg-primary text-white font-semibold hover:bg-opacity-80",children:"Save Quiz"})]})]})}),t.jsx(ge,{isOpen:u,onClose:()=>g(!1),onConfirm:f,title:"Delete Quiz",message:"Are you sure you want to delete this quiz? This action cannot be undone.",confirmText:"Delete",confirmColor:"bg-red-600"})]}):null}function kr({section:e,isOpen:o,onClose:s,onSave:r}){const{data:n,setData:a,processing:i,reset:l}=ye({title:"",description:"",video_url:""}),c=u=>/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)[A-Za-z0-9_-]{11}(?:[&#?].*)?$/.test((u||"").trim()),m=u=>{if(u.preventDefault(),n.video_url&&!c(n.video_url))return;const g={id:`temp_lesson_${Date.now()}`,...n};r(e.id,g),l(),s()};return o?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl dark:bg-darkSecondary",children:t.jsxs("form",{onSubmit:m,className:"p-6",children:[t.jsxs("h2",{className:"text-2xl font-bold mb-4 dark:text-white",children:['Add New Lesson to "',e.title,'"']}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"lesson_title",className:"block text-sm font-medium text-black dark:text-white",children:"Name"}),t.jsx("input",{id:"lesson_title",type:"text",value:n.title,onChange:u=>a("title",u.target.value),className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400",placeholder:"Enter Lesson Name"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"lesson_description",className:"block text-sm font-medium text-black dark:text-white",children:"Content"}),t.jsx("textarea",{id:"lesson_description",value:n.description,onChange:u=>a("description",u.target.value),rows:"4",className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400",placeholder:"Enter Lesson Content/Description"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{htmlFor:"lesson_video_url",className:"block text-sm font-medium text-black dark:text-white",children:"YouTube Video URL (Optional)"}),t.jsx("input",{type:"url",id:"lesson_video_url",placeholder:"https://www.youtube.com/watch?v=XXXXXXXXXXX",value:n.video_url,onChange:u=>a("video_url",u.target.value),className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 rounded-lg bg-gray-200 text-black dark:text-white font-medium hover:bg-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-primary text-white font-semibold hover:bg-opacity-80 dark:hover:bg-opacity-80",disabled:i,children:i?"Saving...":"Ok"})]})]})})}):null}function wr({section:e,isOpen:o,onClose:s,onSave:r}){const{data:n,setData:a,processing:i,reset:l}=ye({id:"",title:"",description:""});d.useEffect(()=>{e&&a({id:e.id,title:e.title,description:e.description||""})},[e]);const c=m=>{m.preventDefault();const u={...e,...n};r(u),l(),s()};return o?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl dark:bg-darkSecondary",children:t.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[t.jsx("h2",{className:"text-2xl font-bold dark:text-white",children:"Edit Section Details"}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"section_title",className:"block text-sm font-medium dark:text-white",children:"Title"}),t.jsx("input",{id:"section_title",type:"text",value:n.title,onChange:m=>a("title",m.target.value),className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"section_description",className:"block text-sm font-medium dark:text-white",children:"Description (Optional)"}),t.jsx("textarea",{id:"section_description",value:n.description,onChange:m=>a("description",m.target.value),rows:"3",className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"})]}),t.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[t.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-200 text-black dark:text-white font-medium rounded-md w-24 hover:bg-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-primary text-white font-semibold hover:bg-opacity-80 dark:hover:bg-opacity-80",disabled:i,children:i?"Saving...":"Ok"})]})]})})}):null}function jr({lessonData:e,isOpen:o,onClose:s,onSave:r}){const{data:n,setData:a,processing:i,reset:l}=ye({id:"",title:"",description:"",video_url:""});d.useEffect(()=>{e?.lesson&&a({id:e.lesson.id,title:e.lesson.title,description:e.lesson.description,video_url:e.lesson.video_url||""})},[e]);const c=u=>/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)[A-Za-z0-9_-]{11}(?:[&#?].*)?$/.test((u||"").trim()),m=u=>{if(u.preventDefault(),n.video_url&&!c(n.video_url))return;const g={...e.lesson,...n};r(g),l(),s()};return o?t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center p-4",children:t.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl dark:bg-darkSecondary",children:t.jsxs("form",{onSubmit:m,className:"p-6",children:[t.jsxs("h2",{className:"text-2xl font-bold mb-4 dark:text-white",children:["Edit Lesson: ",e.lesson.title]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"edit_lesson_title",className:"block text-sm font-medium dark:text-white",children:"Name"}),t.jsx("input",{id:"edit_lesson_title",type:"text",value:n.title,onChange:u=>a("title",u.target.value),className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{htmlFor:"edit_lesson_description",className:"block text-sm font-medium dark:text-white",children:"Content"}),t.jsx("textarea",{id:"edit_lesson_description",value:n.description,onChange:u=>a("description",u.target.value),rows:"4",className:"mt-1 block w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"})]}),t.jsxs("div",{className:"mb-6",children:[t.jsx("label",{htmlFor:"edit_lesson_video_url",className:"block text-sm font-medium dark:text-white",children:"YouTube Video URL (Optional)"}),t.jsx("input",{type:"url",id:"edit_lesson_video_url",placeholder:"https://www.youtube.com/watch?v=XXXXXXXXXXX",value:n.video_url,onChange:u=>a("video_url",u.target.value),className:`mt-1 block w-full rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400 ${n.video_url&&!c(n.video_url)?"border-red-500":"border-gray-200"}`}),n.video_url&&!c(n.video_url)&&t.jsx("p",{className:"text-sm text-red-500 mt-1",children:"Invalid YouTube URL."}),n.video_url&&c(n.video_url)&&t.jsx("div",{className:"mt-3 aspect-video w-full",children:t.jsx("iframe",{className:"w-full h-full rounded",src:`https://www.youtube.com/embed/${n.video_url.match(/(?:v=|youtu\.be\/)([A-Za-z0-9_-]{11})/)?.[1]}`,title:"Lesson Video Preview",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]}),t.jsxs("div",{className:"flex justify-end space-x-2",children:[t.jsx("button",{type:"button",onClick:s,className:"px-4 py-2 bg-gray-200 text-black dark:text-white font-medium rounded-md w-24 hover:bg-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Cancel"}),t.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-primary text-white font-semibold hover:bg-opacity-80 dark:hover:bg-opacity-80",disabled:i,children:i?"Saving...":"Ok"})]})]})})}):null}function Nr({sections:e,setData:o,errors:s,frontendErrors:r={},setFrontendErrors:n,finalQuizTitle:a,finalQuiz:i,onFinalQuizTitleChange:l,onFinalQuizChange:c}){const[m,u]=d.useState(!1),[g,R]=d.useState(!1),[z,b]=d.useState(!1),[f,p]=d.useState(null),[y,A]=d.useState(null),[_,q]=d.useState(""),[L,F]=d.useState(""),[Q,x]=d.useState(!1),[j,D]=d.useState(null),[U,v]=d.useState(!0),[S,$]=d.useState({isOpen:!1,target:null,initialData:null,title:""});d.useEffect(()=>{(r.sections_min||r.lessons_min||r.lesson_content)&&v(!0)},[r]);const O=(h,E)=>{h==="addLesson"?(p(E),u(!0)):h==="editSection"?(p(E),R(!0)):h==="editLesson"&&(A(E),b(!0))},I=()=>{u(!1),R(!1),b(!1)},V=h=>{if(h.preventDefault(),_.trim()==="")return;const E={id:`temp_${Date.now()}`,title:_,description:L,lessons:[]};o("sections",[...e,E]),q(""),F("")},N=h=>{o("sections",e.map(E=>E.id===h.id||E.id===h.temp_id?h:E))},Y=(h,E,P=null)=>{D({type:h,sectionId:E,lessonId:P}),x(!0)},se=()=>{if(!j)return;const{type:h,sectionId:E,lessonId:P}=j;h==="section"?o("sections",e.filter(B=>B.id!==E)):h==="lesson"&&o("sections",e.map(B=>B.id===E?{...B,lessons:B.lessons.filter(ce=>ce.id!==P)}:B)),x(!1),D(null)},K=(h,E)=>{o("sections",e.map(P=>P.id===h?{...P,lessons:[...P.lessons,E]}:P))},te=h=>{o("sections",e.map(E=>({...E,lessons:E.lessons.map(P=>P.id===h.id||P.id===h.temp_id?h:P)})))},C=(h,E,P)=>{$({isOpen:!0,target:h,initialData:E,title:P})},M=()=>{$(h=>({...h,isOpen:!1}))},X=h=>{const{target:E}=S;E.type==="section"?o("sections",e.map(P=>P.id===E.sectionId?{...P,quiz:{...h,questions:h.questions},quiz_title:h.title}:P)):E.type==="final"&&(l(h.title),c({...h,questions:h.questions}))},W=()=>{const{target:h}=S;h.type==="section"?o("sections",e.map(E=>{if(E.id===h.sectionId){const P={...E};return delete P.quiz,delete P.quiz_title,P}return E})):h.type==="final"&&(l(null),c(null))};return t.jsxs(t.Fragment,{children:[t.jsx(kr,{isOpen:m,section:f,onClose:I,onSave:K}),t.jsx(wr,{isOpen:g,section:f,onClose:I,onSave:N}),t.jsx(jr,{isOpen:z,lessonData:y,onClose:I,onSave:te}),t.jsx(vr,{isOpen:S.isOpen,onClose:M,onSave:X,onDelete:S.target?.type==="final"?void 0:W,initialData:S.initialData,title:S.title}),t.jsx(ge,{isOpen:Q,onClose:()=>x(!1),onConfirm:se,title:"Confirm Deletion",message:"Are you sure you want to delete this? This action cannot be undone.",confirmText:"Yes, Delete",cancelText:"No",confirmColor:"bg-red-600"}),t.jsxs("div",{className:"mt-8",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4 dark:text-white",children:"Sections & Lessons"}),t.jsx("p",{className:"text-gray-400 mb-6",children:"Structure your course by adding sections and the lessons within them."}),(r.sections_min||r.lessons_min||r.lesson_content)&&U&&t.jsxs("div",{className:"p-4 mb-4 text-sm text-red-800 rounded-lg bg-red-100 flex items-center justify-between",children:[t.jsxs("div",{className:"flex-grow",children:[r.sections_min&&t.jsx("p",{children:r.sections_min}),r.lessons_min&&t.jsx("p",{children:r.lessons_min}),r.lesson_content&&t.jsx("p",{children:r.lesson_content})]}),t.jsx("button",{type:"button",onClick:()=>v(!1),className:"ml-4 text-red-800 hover:text-red-900","aria-label":"Close",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),t.jsxs("div",{className:"space-y-4 mb-8",children:[e.map((h,E)=>t.jsxs("div",{className:"p-4 border rounded-lg dark:bg-darkSecondary dark:border-dark",children:[t.jsxs("div",{className:"flex justify-between items-start",children:[t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold text-lg dark:text-white",children:["Section ",E+1,": ",h.title]}),h.description&&t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:h.description})]}),t.jsxs("div",{className:"flex items-center space-x-2 flex-shrink-0",children:[t.jsx("button",{type:"button",onClick:()=>O("editSection",h),className:"px-4 py-1 text-sm rounded-md bg-gray-200 text-black dark:text-white font-medium hover:bg-gray-400 dark:bg-gray-700 dark:hover:bg-gray-600",children:"Edit"}),t.jsx("button",{type:"button",onClick:()=>Y("section",h.id),className:"px-4 py-1 text-sm bg-red-600 text-white font-semibold rounded-md hover:bg-red-700 dark:hover:bg-red-500",children:"Delete"})]})]}),t.jsxs("div",{className:"pl-6 mt-4 border-l-2 border-gray-200 dark:border-gray-700 space-y-2",children:[h.lessons.map(P=>t.jsxs("div",{className:"text-sm dark:text-white flex justify-between items-center",children:[t.jsxs("span",{children:["- ",P.title]}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{type:"button",onClick:()=>O("editLesson",{lesson:P,section:h}),className:"text-blue-400 text-xs font-semibold",children:"Edit"}),t.jsx("button",{type:"button",onClick:()=>Y("lesson",h.id,P.id),className:"text-red-400 text-xs font-semibold",children:"Delete"})]})]},P.id)),h.lessons.length===0&&t.jsx("p",{className:"text-sm text-gray-400 italic",children:"No lessons in this section yet."}),t.jsxs("div",{className:"mt-3 flex flex-col gap-2",children:[t.jsx("button",{type:"button",onClick:()=>O("addLesson",h),className:"text-sm font-semibold text-primary hover:underline text-left w-fit",children:"+ Add Lesson"}),h.quiz_title?t.jsxs("div",{className:"mt-2 p-3 border rounded-md dark:border-gray-700 bg-gray-50 dark:bg-darkPrimary flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-sm dark:text-white",children:["Section Quiz: ",h.quiz_title]}),t.jsxs("p",{className:"text-xs text-gray-400",children:[h.quiz?.questions?.length||0," questions"]})]}),t.jsx("button",{type:"button",onClick:()=>C({type:"section",sectionId:h.id},{...h.quiz,title:h.quiz_title},"Edit Section Quiz"),className:"text-blue-500 hover:text-blue-600 text-sm font-semibold",children:"Edit Quiz"})]}):t.jsx("button",{type:"button",onClick:()=>C({type:"section",sectionId:h.id},null,"Add Section Quiz"),className:"text-sm font-semibold text-primary hover:underline text-left w-fit mt-1",children:"+ Add Section Quiz"})]})]})]},h.id)),e.length===0&&t.jsxs("div",{className:"text-center py-12 border-2 border-dashed rounded-lg dark:border-dark",children:[t.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Your course has no sections"}),t.jsx("p",{className:"text-gray-400 mt-1",children:"Add your first section below to get started."})]})]}),t.jsxs("form",{onSubmit:V,className:"space-y-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[t.jsxs("div",{children:[t.jsx("input",{type:"text",value:_,onChange:h=>q(h.target.value),placeholder:"Add a new section title...",className:"w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"}),s["sections.0.title"]&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:"Section titles are required."})]}),t.jsx("div",{children:t.jsx("textarea",{value:L,onChange:h=>F(h.target.value),placeholder:"Add an optional description for the section...",rows:"2",className:"w-full border-gray-200 rounded-md shadow-sm dark:bg-darkSecondary dark:border-dark dark:text-white dark:placeholder-gray-400"})}),t.jsx("div",{className:"flex justify-end",children:t.jsx("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-md font-semibold dark:hover:bg-opacity-80",children:"Add Section"})})]}),t.jsx("div",{className:"mt-10",children:t.jsxs("div",{className:"mb-6 p-4 border rounded-lg bg-white dark:bg-darkSecondary dark:border-dark",children:[t.jsx("div",{className:"flex justify-between items-center mb-3",children:t.jsx("h2",{className:"text-lg font-semibold dark:text-white",children:"Final Quiz"})}),a?t.jsxs("div",{className:"mt-2 p-3 border rounded-md dark:border-gray-700 bg-gray-50 dark:bg-darkPrimary flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsxs("h4",{className:"font-semibold text-sm dark:text-white",children:["Final Quiz: ",a]}),t.jsxs("p",{className:"text-xs text-gray-400",children:[i?.questions?.length||0," questions"]})]}),t.jsx("button",{type:"button",onClick:()=>C({type:"final"},{...i,title:a},"Edit Final Quiz"),className:"text-blue-500 hover:text-blue-600 text-sm font-semibold",children:"Edit Quiz"})]}):t.jsxs(t.Fragment,{children:[t.jsx("button",{type:"button",onClick:()=>C({type:"final"},null,"Add Final Quiz"),className:"text-sm font-semibold text-primary hover:underline",children:"+ Add Final Quiz"}),r["final_quiz.title"]&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:r["final_quiz.title"]}),r["final_quiz.questions_min"]&&t.jsx("p",{className:"text-red-500 text-sm mt-1",children:r["final_quiz.questions_min"]})]})]})})]})]})}function _r({courseData:e,existingCourse:o}){return t.jsxs("div",{className:"mt-8 dark:text-white",children:[t.jsx("h2",{className:"text-2xl font-bold mb-4 dark:text-white",children:"Review and Publish"}),t.jsx("p",{className:"text-gray-400 mb-6",children:'This is a preview of the data that will be saved. Once you are satisfied, click "Publish" or "Save to Draft".'}),t.jsxs("div",{className:"bg-white p-6 rounded-lg border space-y-8 dark:bg-darkSecondary dark:border-dark",children:[t.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-3xl font-bold dark:text-white",children:e.title||"(No Title)"}),t.jsx("p",{className:"mt-4 dark:text-white",children:e.description||"(No Description)"})]}),t.jsx("div",{className:"flex justify-center md:justify-end",children:e.thumbnail_image?t.jsx("img",{src:URL.createObjectURL(e.thumbnail_image),alt:"Thumbnail Preview",className:"rounded-lg shadow-md w-full max-w-sm"}):o?.thumbnail_image_url&&t.jsx("img",{src:o.thumbnail_image_url,alt:"Thumbnail Preview",className:"rounded-lg shadow-md w-full max-w-sm"})})]}),t.jsx("hr",{className:"dark:border-dark"}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-4 dark:text-white",children:"What You'll Learn"}),t.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 dark:text-gray-400 whitespace-pre-line",children:e.student_outcome||"(Not specified)"})]}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-4 dark:text-white",children:"Requirements"}),t.jsx("div",{className:"prose prose-sm max-w-none text-gray-700 dark:text-gray-400 whitespace-pre-line",children:e.requirements||"(Not specified)"})]})]}),t.jsx("hr",{className:"dark:border-dark"}),t.jsxs("div",{children:[t.jsx("h3",{className:"text-xl font-bold mb-4 dark:text-white",children:"Sections & Lessons"}),t.jsxs("div",{className:"space-y-4",children:[e.sections.map((s,r)=>t.jsxs("div",{children:[t.jsxs("p",{className:"font-semibold dark:text-white",children:["Section ",r+1,": ",s.title]}),s.description&&t.jsx("p",{className:"text-sm text-gray-400 mt-1",children:s.description}),t.jsxs("ul",{className:"list-disc list-inside pl-4 dark:text-white",children:[s.lessons.map(n=>t.jsx("li",{children:n.title},n.id)),s.lessons.length===0&&t.jsx("li",{className:"text-gray-400 italic",children:"No lessons in this section yet."})]})]},s.id)),e.sections.length===0&&t.jsx("p",{className:"text-gray-400 italic",children:"No sections or lessons have been added yet."})]})]})]})]})}const Cr=({currentStep:e})=>{const o=["Overview","Sections & Lessons","Review"];return t.jsx("div",{className:"flex items-center justify-center",children:o.map((s,r)=>t.jsxs(ee.Fragment,{children:[t.jsxs("div",{className:"flex items-center",children:[t.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold transition-colors ${r+1<=e?"bg-primary text-white":"bg-gray-200 text-gray-400 dark:bg-gray-700 dark:text-gray-400"}`,children:r+1}),t.jsx("p",{className:`ml-2 transition-colors ${r+1<=e?"text-primary font-semibold":"text-gray-400"}`,children:s})]}),r<o.length-1&&t.jsx("div",{className:`flex-auto border-t-2 transition-colors mx-4 ${r+1<e?"border-primary":"border-gray-200 dark:border-dark"}`})]},r))})};function Sr({categories:e}){const{course:o,flash:s}=jt().props,r=!!o;o?.intro_video_url;const[n,a]=d.useState(()=>r&&s.from_create?2:1),{data:i,setData:l,errors:c,clearErrors:m}=ye({title:o?.title||"",description:o?.description||"",student_outcome:o?.student_outcome||"",requirements:o?.requirements||"",price:o?.price||"",category_id:o?.category_id||"",thumbnail_image:null,intro_video:o?.intro_video_url||"",sections:(o?.sections||[]).map(j=>({...j,quiz_title:j.quiz?.title??null})),final_quiz_title:o?.finalQuiz?.title??null,final_quiz:o?.finalQuiz??null,status:o?.status||"draft"}),[u,g]=d.useState(!1),[R,z]=d.useState(!1),[b,f]=d.useState(!1),[p,y]=d.useState({}),A=(j,D)=>{j.preventDefault(),g(!0),m(),y({});const U=r?route("tutor.courses.update",o.id):route("tutor.courses.store"),v=new FormData;v.append("title",i.title),v.append("description",i.description),v.append("student_outcome",i.student_outcome),v.append("requirements",i.requirements),v.append("price",i.price),v.append("category_id",i.category_id),v.append("status",D),i.thumbnail_image instanceof File&&v.append("thumbnail_image",i.thumbnail_image),i.intro_video instanceof File&&v.append("intro_video",i.intro_video),i.intro_video&&!(i.intro_video instanceof File)&&v.append("intro_video",i.intro_video),i.sections.length>0&&i.sections.forEach((S,$)=>{v.append(`sections[${$}][id]`,S.id||""),v.append(`sections[${$}][quiz_title]`,S.quiz&&S.quiz.title||S.quiz_title||""),S.quiz&&(S.quiz.title||S.quiz_title)&&(v.append(`sections[${$}][quiz][description]`,S.quiz.description||""),v.append(`sections[${$}][quiz][duration_seconds]`,String(S.quiz?.duration_seconds??900))),S.quiz&&Array.isArray(S.quiz.questions)&&S.quiz.questions.forEach((O,I)=>{v.append(`sections[${$}][quiz][questions][${I}][question]`,O.question||""),(O.options||[]).forEach((V,N)=>{v.append(`sections[${$}][quiz][questions][${I}][options][${N}][option]`,V.option||""),v.append(`sections[${$}][quiz][questions][${I}][options][${N}][is_correct]`,V.is_correct?"1":"0")})}),v.append(`sections[${$}][title]`,S.title),v.append(`sections[${$}][description]`,S.description||""),!S.lessons||S.lessons.length===0?v.append(`sections[${$}][lessons]`,""):S.lessons.forEach((O,I)=>{v.append(`sections[${$}][lessons][${I}][id]`,O.id||""),v.append(`sections[${$}][lessons][${I}][title]`,O.title),v.append(`sections[${$}][lessons][${I}][description]`,O.description),O.video instanceof File&&v.append(`sections[${$}][lessons][${I}][video]`,O.video),O.video_url&&v.append(`sections[${$}][lessons][${I}][video_url]`,O.video_url)})}),v.append("final_quiz_title",i.final_quiz_title||""),i.final_quiz_title&&(v.append("final_quiz[description]",i.final_quiz?.description||""),v.append("final_quiz[duration_seconds]",String(i.final_quiz?.duration_seconds??900))),i.final_quiz&&Array.isArray(i.final_quiz.questions)&&i.final_quiz.questions.forEach((S,$)=>{v.append(`final_quiz[questions][${$}][question]`,S.question||""),(S.options||[]).forEach((O,I)=>{v.append(`final_quiz[questions][${$}][options][${I}][option]`,O.option||""),v.append(`final_quiz[questions][${$}][options][${I}][is_correct]`,O.is_correct?"1":"0")})}),r&&v.append("_method","patch"),qe.post(U,v,{onFinish:()=>g(!1),onError:S=>{console.log("Submission Errors:",S)}})},_=j=>A(j,"published"),q=j=>A(j,"draft"),L=()=>{qe.get(route("tutor.courses.index"))},F=()=>{const j={};i.title||(j.title="The title field is required."),i.description||(j.description="The description field is required."),i.student_outcome||(j.student_outcome="The 'What will they learn' field is required."),i.requirements||(j.requirements="The requirements field is required."),!i.price&&i.price!==0&&(j.price="The price field is required."),i.category_id||(j.category_id="The category field is required."),i.intro_video||(j.intro_video="The introduction video field is required."),!r&&!i.thumbnail_image&&!o?.thumbnail_image_url&&(j.thumbnail_image="The thumbnail image is required.");const D=/^(https?:\/\/)?(www\.)?(youtube\.com\/watch\?v=|youtu\.be\/)[A-Za-z0-9_-]{11}(?:[&#?].*)?$/;return i.intro_video&&!(i.intro_video instanceof File)&&i.intro_video.trim()!==""&&!D.test(String(i.intro_video).trim())&&(j.intro_video="Please enter a valid YouTube URL."),y(j),Object.keys(j).length===0},Q=()=>{const j={};return!i.sections||i.sections.length===0?j.sections_min="You must add at least one section.":(i.sections.some(v=>v.lessons.length===0)&&(j.lessons_min="Every section must have at least one lesson."),i.sections.some(v=>v.lessons.some(S=>!S.title||!S.description))&&(j.lesson_content="All lessons must have both a title and description."),i.sections.forEach((v,S)=>{(!!v.quiz_title||v.quiz&&v.quiz.questions&&v.quiz.questions.length>0)&&(v.quiz_title||(j[`sections.${S}.quiz.title`]="Quiz title is required."),!v.quiz||!v.quiz.questions||v.quiz.questions.length===0?j[`sections.${S}.quiz.questions_min`]="Quiz must have at least one question.":v.quiz.questions.forEach((O,I)=>{(!O.question||O.question.trim()==="")&&(j[`sections.${S}.quiz.questions.${I}.question`]="Question text is required."),(O.options||[]).forEach((N,Y)=>{(!N.option||N.option.trim()==="")&&(j[`sections.${S}.quiz.questions.${I}.options.${Y}.option`]="Option text is required.")}),O.options&&O.options.some(N=>N.is_correct)||(j[`sections.${S}.quiz.questions.${I}.correct_option`]="Select a correct answer.")}))})),i.final_quiz_title||(j["final_quiz.title"]="Final quiz title is required."),!i.final_quiz||!i.final_quiz.questions||i.final_quiz.questions.length===0?j["final_quiz.questions_min"]="Final quiz must have at least one question.":i.final_quiz.questions.forEach((D,U)=>{(!D.question||D.question.trim()==="")&&(j[`final_quiz.questions.${U}.question`]="Question text is required."),(D.options||[]).forEach((S,$)=>{(!S.option||S.option.trim()==="")&&(j[`final_quiz.questions.${U}.options.${$}.option`]="Option text is required.")}),D.options&&D.options.some(S=>S.is_correct)||(j[`final_quiz.questions.${U}.correct_option`]="Select a correct answer.")}),y(j),Object.keys(j).length===0},x=()=>{m(),y({}),n===1?F()&&a(2):n===2&&Q()&&a(3)};return t.jsxs(t.Fragment,{children:[t.jsx(Nt,{title:r?`Edit: ${o.title}`:"Create Course"}),t.jsx("div",{className:"bg-primary",children:t.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsx("h1",{className:"text-xl font-bold text-white",children:r?o.title:"New Course"}),t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx("button",{type:"button",onClick:()=>z(!0),className:"px-4 py-2 rounded-lg bg-white hover:bg-gray-400 font-semibold dark:bg-darkPrimary dark:hover:bg-gray-700",disabled:u,children:"Cancel"}),t.jsx("button",{type:"button",onClick:q,className:"px-4 py-2 rounded-lg bg-secondary text-white font-semibold hover:bg-gray-700 dark:hover:bg-gray-400",disabled:u,children:r?"Save Changes":"Save to Draft"})]})]})})}),t.jsxs("main",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[t.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md border dark:bg-darkSecondary dark:border-dark",children:[t.jsx(Cr,{currentStep:n}),t.jsx("div",{className:n===1?"block":"hidden",children:t.jsx(St,{data:i,setData:l,errors:c,course:o,categories:e,clearErrors:m,setFrontendErrors:y,frontendErrors:p})}),t.jsx("div",{className:n===2?"block":"hidden",children:t.jsx(Nr,{sections:i.sections,setData:l,errors:c,frontendErrors:p,setFrontendErrors:y,finalQuizTitle:i.final_quiz_title,finalQuiz:i.final_quiz,onFinalQuizTitleChange:j=>{j===null?(l("final_quiz_title",null),l("final_quiz",null)):(l("final_quiz_title",j),l("final_quiz",{...i.final_quiz||{questions:[],description:"",duration_seconds:900},title:j}))},onFinalQuizChange:j=>l("final_quiz",j)})}),t.jsx("div",{className:n===3?"block":"hidden",children:t.jsx(_r,{courseData:i,existingCourse:o})})]}),t.jsxs("div",{className:"flex justify-between mt-8",children:[t.jsx("button",{type:"button",onClick:()=>a(j=>Math.max(1,j-1)),disabled:n===1||u,className:"px-6 py-2 rounded-lg bg-gray-200 font-semibold disabled:opacity-50 dark:bg-darkSecondary dark:text-white dark:disabled:opacity-50",children:"Previous"}),n<3&&t.jsx("button",{type:"button",onClick:x,disabled:u,className:"px-6 py-2 rounded-lg bg-primary text-white font-semibold disabled:opacity-50 dark:hover:bg-opacity-80",children:"Next"}),n===3&&i.status==="draft"&&t.jsx("button",{type:"button",onClick:()=>f(!0),className:"px-6 py-2 rounded-lg bg-primary text-white font-semibold hover:bg-opacity-80",disabled:u,children:"Publish"})]})]}),t.jsx(ge,{isOpen:R,onClose:()=>z(!1),onConfirm:L,title:"Confirm Cancel",message:"Are you sure you want to cancel? Any unsaved changes will be lost.",confirmText:"Yes, Cancel",cancelText:"No",confirmColor:"bg-red-600"}),t.jsx(ge,{isOpen:b,onClose:()=>f(!1),onConfirm:j=>{_(j),f(!1)},title:"Confirm Publish",message:"Are you sure you want to publish this course? It will become visible to students.",confirmText:"Yes, Publish",cancelText:"No"})]})}Sr.layout=e=>t.jsx(_t,{children:e});export{Sr as default};
