import{a as y,r as i,u as w,j as e}from"./app-BuHF2Nt6.js";import{A as B}from"./Layout-Nknjk4Nq.js";const E=()=>{const{auth:a,flash:m}=y().props,[f,p]=i.useState(a.user.profile_image_path?`/storage/${a.user.profile_image_path}`:"/assets/icons/profile.svg"),[n,u]=i.useState(""),[d,c]=i.useState(""),[h,x]=i.useState(""),{data:l,setData:r,post:N,processing:b,errors:s,clearErrors:o}=w({firstName:a.user.first_name,lastName:a.user.last_name,phoneNumber:a.user.phone_number,dateOfBirth:a.user.date_of_birth,bio:a.user.bio}),g=t=>{r("profileImage",t.target.files[0]),p(URL.createObjectURL(t.target.files[0]))},j=t=>{t.preventDefault(),N("/profile",{forceFormData:!0,onBefore:v=>{v.data._method="patch"}})};return e.jsxs("div",{className:"max-w-lg w-full mx-auto my-10 bg-primary p-6 rounded-xl text-white flex flex-col items-center",children:[m.success&&e.jsx("div",{className:"bg-green-500 text-white px-4 py-2 rounded mb-4 w-full",children:m.success}),e.jsx("h2",{className:"text-xl font-extrabold mb-4",children:"Profile"}),e.jsxs("form",{onSubmit:j,className:"flex flex-col gap-6 w-full",children:[e.jsxs("div",{className:"relative mx-auto w-32 h-32",children:[e.jsx("img",{className:"w-32 h-32 object-cover rounded-full",src:f,alt:"Profile"}),e.jsx("label",{htmlFor:"profileImage",className:"absolute bottom-0 right-0 cursor-pointer",children:e.jsx("img",{src:"/assets/icons/edit.svg",alt:"Edit",className:"w-6 h-6 rounded-full"})}),e.jsx("input",{type:"file",id:"profileImage",accept:"image/*",onChange:g,className:"hidden"}),s.profileImage&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.profileImage})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"text-sm font-extrabold",children:"First Name"}),e.jsx("input",{type:"text",value:l.firstName,onChange:t=>{r("firstName",t.target.value),o("firstName"),t.target.value?u(""):u("The first name field is required.")},name:"firstName",placeholder:"John",className:"px-4 py-2 rounded-full text-black w-full"}),(n||s.firstName)&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:n||s.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"text-sm font-extrabold",children:"Last Name"}),e.jsx("input",{type:"text",value:l.lastName,onChange:t=>{r("lastName",t.target.value),o("lastName"),t.target.value?c(""):c("The last name field is required.")},name:"lastName",placeholder:"Doe",className:"px-4 py-2 rounded-full text-black w-full"}),(d||s.lastName)&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:d||s.lastName})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"phoneNumber",className:"text-sm font-extrabold",children:"Phone Number"}),e.jsx("input",{type:"text",value:l.phoneNumber,onChange:t=>{r("phoneNumber",t.target.value),o("phoneNumber"),t.target.value?x(""):x("The phone number field is required.")},name:"phoneNumber",placeholder:"081234567890",className:"px-4 py-2 rounded-full text-black w-full"}),(h||s.phoneNumber)&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h||s.phoneNumber})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dateOfBirth",className:"text-sm font-extrabold",children:"Date of Birth"}),e.jsx("input",{type:"date",value:l.dateOfBirth,onChange:t=>{r("dateOfBirth",t.target.value),o("dateOfBirth")},name:"dateOfBirth",className:"px-4 py-2 rounded-full text-black w-full"}),s.dateOfBirth&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.dateOfBirth})]}),a.user?.role?.name==="tutor"&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"bio",className:"text-sm font-extrabold",children:"Bio"}),e.jsx("input",{type:"text",value:l.bio||"",onChange:t=>r("bio",t.target.value),name:"bio",placeholder:"Write something about yourself",className:"px-4 py-2 rounded-full text-black w-full"})]}),e.jsx("button",{type:"submit",disabled:b,className:"p-2 font-extrabold rounded-full bg-secondary hover:bg-[#000000] w-full",children:"Save Changes"})]})]})};E.layout=a=>e.jsx(B,{children:a});export{E as default};
